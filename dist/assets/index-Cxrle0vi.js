(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Au={exports:{}},Zi={},Iu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),jh=Symbol.for("react.portal"),Ch=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Nh=Symbol.for("react.memo"),$h=Symbol.for("react.lazy"),rl=Symbol.iterator;function Ah(e){return e===null||typeof e!="object"?null:(e=rl&&e[rl]||e["@@iterator"],typeof e=="function"?e:null)}var zu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Du=Object.assign,Mu={};function Wn(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||zu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uu(){}Uu.prototype=Wn.prototype;function na(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||zu}var ra=na.prototype=new Uu;ra.constructor=na;Du(ra,Wn.prototype);ra.isPureReactComponent=!0;var il=Array.isArray,Fu=Object.prototype.hasOwnProperty,ia={current:null},Bu={key:!0,ref:!0,__self:!0,__source:!0};function Hu(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Fu.call(t,r)&&!Bu.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fr,type:e,key:s,ref:o,props:i,_owner:ia.current}}function Ih(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function zh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sl=/\/+/g;function Es(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zh(""+e.key):t.toString(36)}function mi(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fr:case jh:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Es(o,0):r,il(i)?(n="",e!=null&&(n=e.replace(sl,"$&/")+"/"),mi(i,t,n,"",function(u){return u})):i!=null&&(sa(i)&&(i=Ih(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sl,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",il(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Es(s,a);o+=mi(s,t,n,l,i)}else if(l=Ah(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Es(s,a++),o+=mi(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kr(e,t,n){if(e==null)return e;var r=[],i=0;return mi(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Dh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},vi={transition:null},Mh={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:vi,ReactCurrentOwner:ia};function Wu(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Kr,forEach:function(e,t,n){Kr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kr(e,function(){t++}),t},toArray:function(e){return Kr(e,function(t){return t})||[]},only:function(e){if(!sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Wn;U.Fragment=Ch;U.Profiler=Th;U.PureComponent=na;U.StrictMode=Ph;U.Suspense=Rh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mh;U.act=Wu;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Du({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ia.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Fu.call(t,l)&&!Bu.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fr,type:e.type,key:i,ref:s,props:r,_owner:o}};U.createContext=function(e){return e={$$typeof:Oh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bh,_context:e},e.Consumer=e};U.createElement=Hu;U.createFactory=function(e){var t=Hu.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Lh,render:e}};U.isValidElement=sa;U.lazy=function(e){return{$$typeof:$h,_payload:{_status:-1,_result:e},_init:Dh}};U.memo=function(e,t){return{$$typeof:Nh,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=vi.transition;vi.transition={};try{e()}finally{vi.transition=t}};U.unstable_act=Wu;U.useCallback=function(e,t){return Ee.current.useCallback(e,t)};U.useContext=function(e){return Ee.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};U.useEffect=function(e,t){return Ee.current.useEffect(e,t)};U.useId=function(){return Ee.current.useId()};U.useImperativeHandle=function(e,t,n){return Ee.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Ee.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Ee.current.useReducer(e,t,n)};U.useRef=function(e){return Ee.current.useRef(e)};U.useState=function(e){return Ee.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Ee.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Ee.current.useTransition()};U.version="18.3.1";Iu.exports=U;var D=Iu.exports;const Uh=Eh(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=D,Bh=Symbol.for("react.element"),Hh=Symbol.for("react.fragment"),Wh=Object.prototype.hasOwnProperty,Vh=Fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Wh.call(t,r)&&!Gh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Bh,type:e,key:s,ref:o,props:i,_owner:Vh.current}}Zi.Fragment=Hh;Zi.jsx=Vu;Zi.jsxs=Vu;Au.exports=Zi;var E=Au.exports,Gu={exports:{}},De={},Ju={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,m){var v=T.length;T.push(m);e:for(;0<v;){var S=v-1>>>1,R=T[S];if(0<i(R,m))T[S]=m,T[v]=R,v=S;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var m=T[0],v=T.pop();if(v!==m){T[0]=v;e:for(var S=0,R=T.length,N=R>>>1;S<N;){var z=2*(S+1)-1,ie=T[z],ee=z+1,fe=T[ee];if(0>i(ie,v))ee<R&&0>i(fe,ie)?(T[S]=fe,T[ee]=v,S=ee):(T[S]=ie,T[z]=v,S=z);else if(ee<R&&0>i(fe,v))T[S]=fe,T[ee]=v,S=ee;else break e}}return m}function i(T,m){var v=T.sortIndex-m.sortIndex;return v!==0?v:T.id-m.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,w=!1,y=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var m=n(u);m!==null;){if(m.callback===null)r(u);else if(m.startTime<=T)r(u),m.sortIndex=m.expirationTime,t(l,m);else break;m=n(u)}}function k(T){if(_=!1,g(T),!y)if(n(l)!==null)y=!0,ne(j);else{var m=n(u);m!==null&&re(k,m.startTime-T)}}function j(T,m){y=!1,_&&(_=!1,p(O),O=-1),w=!0;var v=h;try{for(g(m),d=n(l);d!==null&&(!(d.expirationTime>m)||T&&!ae());){var S=d.callback;if(typeof S=="function"){d.callback=null,h=d.priorityLevel;var R=S(d.expirationTime<=m);m=e.unstable_now(),typeof R=="function"?d.callback=R:d===n(l)&&r(l),g(m)}else r(l);d=n(l)}if(d!==null)var N=!0;else{var z=n(u);z!==null&&re(k,z.startTime-m),N=!1}return N}finally{d=null,h=v,w=!1}}var b=!1,P=null,O=-1,F=5,A=-1;function ae(){return!(e.unstable_now()-A<F)}function Je(){if(P!==null){var T=e.unstable_now();A=T;var m=!0;try{m=P(!0,T)}finally{m?$():(b=!1,P=null)}}else b=!1}var $;if(typeof f=="function")$=function(){f(Je)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Q=I.port2;I.port1.onmessage=Je,$=function(){Q.postMessage(null)}}else $=function(){C(Je,0)};function ne(T){P=T,b||(b=!0,$())}function re(T,m){O=C(function(){T(e.unstable_now())},m)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||w||(y=!0,ne(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var m=3;break;default:m=h}var v=h;h=m;try{return T()}finally{h=v}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,m){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var v=h;h=T;try{return m()}finally{h=v}},e.unstable_scheduleCallback=function(T,m,v){var S=e.unstable_now();switch(typeof v=="object"&&v!==null?(v=v.delay,v=typeof v=="number"&&0<v?S+v:S):v=S,T){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=v+R,T={id:c++,callback:m,priorityLevel:T,startTime:v,expirationTime:R,sortIndex:-1},v>S?(T.sortIndex=v,t(u,T),n(l)===null&&T===n(u)&&(_?(p(O),O=-1):_=!0,re(k,v-S))):(T.sortIndex=R,t(l,T),y||w||(y=!0,ne(j))),T},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(T){var m=h;return function(){var v=h;h=m;try{return T.apply(this,arguments)}finally{h=v}}}})(Ku);Ju.exports=Ku;var Jh=Ju.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=D,ze=Jh;function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qu=new Set,Er={};function ln(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(Er[e]=t,e=0;e<t.length;e++)Qu.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=Object.prototype.hasOwnProperty,Qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ol={},al={};function qh(e){return eo.call(al,e)?!0:eo.call(ol,e)?!1:Qh.test(e)?al[e]=!0:(ol[e]=!0,!1)}function Yh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xh(e,t,n,r){if(t===null||typeof t>"u"||Yh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function aa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oa,aa);me[t]=new xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oa,aa);me[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oa,aa);me[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function la(e,t,n,r){var i=me.hasOwnProperty(t)?me[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xh(t,n,i,r)&&(n=null),r||i===null?qh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _t=Kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qr=Symbol.for("react.element"),mn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),ua=Symbol.for("react.strict_mode"),to=Symbol.for("react.profiler"),qu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),ca=Symbol.for("react.forward_ref"),no=Symbol.for("react.suspense"),ro=Symbol.for("react.suspense_list"),da=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),ll=Symbol.iterator;function Yn(e){return e===null||typeof e!="object"?null:(e=ll&&e[ll]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,xs;function ar(e){if(xs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xs=t&&t[1]||""}return`
`+xs+e}var js=!1;function Cs(e,t){if(!e||js)return"";js=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{js=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ar(e):""}function Zh(e){switch(e.tag){case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return e=Cs(e.type,!1),e;case 11:return e=Cs(e.type.render,!1),e;case 1:return e=Cs(e.type,!0),e;default:return""}}function io(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case mn:return"Portal";case to:return"Profiler";case ua:return"StrictMode";case no:return"Suspense";case ro:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yu:return(e.displayName||"Context")+".Consumer";case qu:return(e._context.displayName||"Context")+".Provider";case ca:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case da:return t=e.displayName||null,t!==null?t:io(e.type)||"Memo";case xt:t=e._payload,e=e._init;try{return io(e(t))}catch{}}return null}function ef(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return io(t);case 8:return t===ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tf(e){var t=Zu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qr(e){e._valueTracker||(e._valueTracker=tf(e))}function ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function so(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ul(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tc(e,t){t=t.checked,t!=null&&la(e,"checked",t,!1)}function oo(e,t){tc(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ao(e,t.type,n):t.hasOwnProperty("defaultValue")&&ao(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ao(e,t,n){(t!=="number"||Ti(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lr=Array.isArray;function Tn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(lr(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function nc(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yr,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nf=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(e){nf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hr[t]=hr[e]})});function sc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hr.hasOwnProperty(e)&&hr[e]?(""+t).trim():t+"px"}function oc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(e,t){if(t){if(rf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=null;function ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,bn=null,On=null;function fl(e){if(e=Wr(e)){if(typeof po!="function")throw Error(x(280));var t=e.stateNode;t&&(t=is(t),po(e.stateNode,e.type,t))}}function ac(e){bn?On?On.push(e):On=[e]:bn=e}function lc(){if(bn){var e=bn,t=On;if(On=bn=null,fl(e),t)for(e=0;e<t.length;e++)fl(t[e])}}function uc(e,t){return e(t)}function cc(){}var Ps=!1;function dc(e,t,n){if(Ps)return e(t,n);Ps=!0;try{return uc(e,t,n)}finally{Ps=!1,(bn!==null||On!==null)&&(cc(),lc())}}function jr(e,t){var n=e.stateNode;if(n===null)return null;var r=is(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var go=!1;if(mt)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){go=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{go=!1}function sf(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var fr=!1,bi=null,Oi=!1,mo=null,of={onError:function(e){fr=!0,bi=e}};function af(e,t,n,r,i,s,o,a,l){fr=!1,bi=null,sf.apply(of,arguments)}function lf(e,t,n,r,i,s,o,a,l){if(af.apply(this,arguments),fr){if(fr){var u=bi;fr=!1,bi=null}else throw Error(x(198));Oi||(Oi=!0,mo=u)}}function un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pl(e){if(un(e)!==e)throw Error(x(188))}function uf(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pl(i),e;if(s===r)return pl(i),t;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function fc(e){return e=uf(e),e!==null?pc(e):null}function pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pc(e);if(t!==null)return t;e=e.sibling}return null}var gc=ze.unstable_scheduleCallback,gl=ze.unstable_cancelCallback,cf=ze.unstable_shouldYield,df=ze.unstable_requestPaint,se=ze.unstable_now,hf=ze.unstable_getCurrentPriorityLevel,fa=ze.unstable_ImmediatePriority,mc=ze.unstable_UserBlockingPriority,Li=ze.unstable_NormalPriority,ff=ze.unstable_LowPriority,vc=ze.unstable_IdlePriority,es=null,lt=null;function pf(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(es,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:vf,gf=Math.log,mf=Math.LN2;function vf(e){return e>>>=0,e===0?32:31-(gf(e)/mf|0)|0}var Xr=64,Zr=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ur(a):(s&=o,s!==0&&(r=ur(s)))}else o=n&~i,o!==0?r=ur(o):s!==0&&(r=ur(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-et(t),i=1<<n,r|=e[n],t&=~i;return r}function yf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-et(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yf(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=Xr;return Xr<<=1,!(Xr&4194240)&&(Xr=64),e}function Ts(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function _f(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-et(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function pa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-et(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var W=0;function wc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _c,ga,kc,Sc,Ec,yo=!1,ei=[],Rt=null,Nt=null,$t=null,Cr=new Map,Pr=new Map,Pt=[],kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ml(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(t.pointerId)}}function Zn(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Wr(t),t!==null&&ga(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sf(e,t,n,r,i){switch(t){case"focusin":return Rt=Zn(Rt,e,t,n,r,i),!0;case"dragenter":return Nt=Zn(Nt,e,t,n,r,i),!0;case"mouseover":return $t=Zn($t,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cr.set(s,Zn(Cr.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pr.set(s,Zn(Pr.get(s)||null,e,t,n,r,i)),!0}return!1}function xc(e){var t=Yt(e.target);if(t!==null){var n=un(t);if(n!==null){if(t=n.tag,t===13){if(t=hc(n),t!==null){e.blockedOn=t,Ec(e.priority,function(){kc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fo=r,n.target.dispatchEvent(r),fo=null}else return t=Wr(n),t!==null&&ga(t),e.blockedOn=n,!1;t.shift()}return!0}function vl(e,t,n){yi(e)&&n.delete(t)}function Ef(){yo=!1,Rt!==null&&yi(Rt)&&(Rt=null),Nt!==null&&yi(Nt)&&(Nt=null),$t!==null&&yi($t)&&($t=null),Cr.forEach(vl),Pr.forEach(vl)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,yo||(yo=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Ef)))}function Tr(e){function t(i){return er(i,e)}if(0<ei.length){er(ei[0],e);for(var n=1;n<ei.length;n++){var r=ei[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rt!==null&&er(Rt,e),Nt!==null&&er(Nt,e),$t!==null&&er($t,e),Cr.forEach(t),Pr.forEach(t),n=0;n<Pt.length;n++)r=Pt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)xc(n),n.blockedOn===null&&Pt.shift()}var Ln=_t.ReactCurrentBatchConfig,Ni=!0;function xf(e,t,n,r){var i=W,s=Ln.transition;Ln.transition=null;try{W=1,ma(e,t,n,r)}finally{W=i,Ln.transition=s}}function jf(e,t,n,r){var i=W,s=Ln.transition;Ln.transition=null;try{W=4,ma(e,t,n,r)}finally{W=i,Ln.transition=s}}function ma(e,t,n,r){if(Ni){var i=wo(e,t,n,r);if(i===null)Ds(e,t,r,$i,n),ml(e,r);else if(Sf(i,e,t,n,r))r.stopPropagation();else if(ml(e,r),t&4&&-1<kf.indexOf(e)){for(;i!==null;){var s=Wr(i);if(s!==null&&_c(s),s=wo(e,t,n,r),s===null&&Ds(e,t,r,$i,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ds(e,t,r,null,n)}}var $i=null;function wo(e,t,n,r){if($i=null,e=ha(r),e=Yt(e),e!==null)if(t=un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $i=e,null}function jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hf()){case fa:return 1;case mc:return 4;case Li:case ff:return 16;case vc:return 536870912;default:return 16}default:return 16}}var Ot=null,va=null,wi=null;function Cc(){if(wi)return wi;var e,t=va,n=t.length,r,i="value"in Ot?Ot.value:Ot.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return wi=i.slice(e,1<r?1-r:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function yl(){return!1}function Me(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ti:yl,this.isPropagationStopped=yl,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Me(Vn),Hr=Z({},Vn,{view:0,detail:0}),Cf=Me(Hr),bs,Os,tr,ts=Z({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(bs=e.screenX-tr.screenX,Os=e.screenY-tr.screenY):Os=bs=0,tr=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),wl=Me(ts),Pf=Z({},ts,{dataTransfer:0}),Tf=Me(Pf),bf=Z({},Hr,{relatedTarget:0}),Ls=Me(bf),Of=Z({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lf=Me(Of),Rf=Z({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nf=Me(Rf),$f=Z({},Vn,{data:0}),_l=Me($f),Af={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},If={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zf[e])?!!t[e]:!1}function wa(){return Df}var Mf=Z({},Hr,{key:function(e){if(e.key){var t=Af[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?If[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uf=Me(Mf),Ff=Z({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Me(Ff),Bf=Z({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Hf=Me(Bf),Wf=Z({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vf=Me(Wf),Gf=Z({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jf=Me(Gf),Kf=[9,13,27,32],_a=mt&&"CompositionEvent"in window,pr=null;mt&&"documentMode"in document&&(pr=document.documentMode);var Qf=mt&&"TextEvent"in window&&!pr,Pc=mt&&(!_a||pr&&8<pr&&11>=pr),Sl=" ",El=!1;function Tc(e,t){switch(e){case"keyup":return Kf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yn=!1;function qf(e,t){switch(e){case"compositionend":return bc(t);case"keypress":return t.which!==32?null:(El=!0,Sl);case"textInput":return e=t.data,e===Sl&&El?null:e;default:return null}}function Yf(e,t){if(yn)return e==="compositionend"||!_a&&Tc(e,t)?(e=Cc(),wi=va=Ot=null,yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pc&&t.locale!=="ko"?null:t.data;default:return null}}var Xf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xf[e.type]:t==="textarea"}function Oc(e,t,n,r){ac(r),t=Ai(t,"onChange"),0<t.length&&(n=new ya("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,br=null;function Zf(e){Fc(e,0)}function ns(e){var t=kn(e);if(ec(t))return e}function ep(e,t){if(e==="change")return t}var Lc=!1;if(mt){var Rs;if(mt){var Ns="oninput"in document;if(!Ns){var jl=document.createElement("div");jl.setAttribute("oninput","return;"),Ns=typeof jl.oninput=="function"}Rs=Ns}else Rs=!1;Lc=Rs&&(!document.documentMode||9<document.documentMode)}function Cl(){gr&&(gr.detachEvent("onpropertychange",Rc),br=gr=null)}function Rc(e){if(e.propertyName==="value"&&ns(br)){var t=[];Oc(t,br,e,ha(e)),dc(Zf,t)}}function tp(e,t,n){e==="focusin"?(Cl(),gr=t,br=n,gr.attachEvent("onpropertychange",Rc)):e==="focusout"&&Cl()}function np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ns(br)}function rp(e,t){if(e==="click")return ns(t)}function ip(e,t){if(e==="input"||e==="change")return ns(t)}function sp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:sp;function Or(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eo.call(t,i)||!nt(e[i],t[i]))return!1}return!0}function Pl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tl(e,t){var n=Pl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pl(n)}}function Nc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $c(){for(var e=window,t=Ti();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ti(e.document)}return t}function ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function op(e){var t=$c(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nc(n.ownerDocument.documentElement,n)){if(r!==null&&ka(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Tl(n,s);var o=Tl(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ap=mt&&"documentMode"in document&&11>=document.documentMode,wn=null,_o=null,mr=null,ko=!1;function bl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ko||wn==null||wn!==Ti(r)||(r=wn,"selectionStart"in r&&ka(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mr&&Or(mr,r)||(mr=r,r=Ai(_o,"onSelect"),0<r.length&&(t=new ya("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wn)))}function ni(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},$s={},Ac={};mt&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function rs(e){if($s[e])return $s[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ac)return $s[e]=t[n];return e}var Ic=rs("animationend"),zc=rs("animationiteration"),Dc=rs("animationstart"),Mc=rs("transitionend"),Uc=new Map,Ol="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){Uc.set(e,t),ln(t,[e])}for(var As=0;As<Ol.length;As++){var Is=Ol[As],lp=Is.toLowerCase(),up=Is[0].toUpperCase()+Is.slice(1);Bt(lp,"on"+up)}Bt(Ic,"onAnimationEnd");Bt(zc,"onAnimationIteration");Bt(Dc,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(Mc,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(cr));function Ll(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lf(r,t,void 0,e),e.currentTarget=null}function Fc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ll(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ll(i,a,u),s=l}}}if(Oi)throw e=mo,Oi=!1,mo=null,e}function J(e,t){var n=t[Co];n===void 0&&(n=t[Co]=new Set);var r=e+"__bubble";n.has(r)||(Bc(t,e,2,!1),n.add(r))}function zs(e,t,n){var r=0;t&&(r|=4),Bc(n,e,r,t)}var ri="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[ri]){e[ri]=!0,Qu.forEach(function(n){n!=="selectionchange"&&(cp.has(n)||zs(n,!1,e),zs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ri]||(t[ri]=!0,zs("selectionchange",!1,t))}}function Bc(e,t,n,r){switch(jc(t)){case 1:var i=xf;break;case 4:i=jf;break;default:i=ma}n=i.bind(null,t,n,e),i=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ds(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yt(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dc(function(){var u=s,c=ha(n),d=[];e:{var h=Uc.get(e);if(h!==void 0){var w=ya,y=e;switch(e){case"keypress":if(_i(n)===0)break e;case"keydown":case"keyup":w=Uf;break;case"focusin":y="focus",w=Ls;break;case"focusout":y="blur",w=Ls;break;case"beforeblur":case"afterblur":w=Ls;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Hf;break;case Ic:case zc:case Dc:w=Lf;break;case Mc:w=Vf;break;case"scroll":w=Cf;break;case"wheel":w=Jf;break;case"copy":case"cut":case"paste":w=Nf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=kl}var _=(t&4)!==0,C=!_&&e==="scroll",p=_?h!==null?h+"Capture":null:h;_=[];for(var f=u,g;f!==null;){g=f;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,p!==null&&(k=jr(f,p),k!=null&&_.push(Rr(f,k,g)))),C)break;f=f.return}0<_.length&&(h=new w(h,y,null,n,c),d.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==fo&&(y=n.relatedTarget||n.fromElement)&&(Yt(y)||y[vt]))break e;if((w||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=u,y=y?Yt(y):null,y!==null&&(C=un(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=u),w!==y)){if(_=wl,k="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=kl,k="onPointerLeave",p="onPointerEnter",f="pointer"),C=w==null?h:kn(w),g=y==null?h:kn(y),h=new _(k,f+"leave",w,n,c),h.target=C,h.relatedTarget=g,k=null,Yt(c)===u&&(_=new _(p,f+"enter",y,n,c),_.target=g,_.relatedTarget=C,k=_),C=k,w&&y)t:{for(_=w,p=y,f=0,g=_;g;g=hn(g))f++;for(g=0,k=p;k;k=hn(k))g++;for(;0<f-g;)_=hn(_),f--;for(;0<g-f;)p=hn(p),g--;for(;f--;){if(_===p||p!==null&&_===p.alternate)break t;_=hn(_),p=hn(p)}_=null}else _=null;w!==null&&Rl(d,h,w,_,!1),y!==null&&C!==null&&Rl(d,C,y,_,!0)}}e:{if(h=u?kn(u):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var j=ep;else if(xl(h))if(Lc)j=ip;else{j=np;var b=tp}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=rp);if(j&&(j=j(e,u))){Oc(d,j,n,c);break e}b&&b(e,h,u),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&ao(h,"number",h.value)}switch(b=u?kn(u):window,e){case"focusin":(xl(b)||b.contentEditable==="true")&&(wn=b,_o=u,mr=null);break;case"focusout":mr=_o=wn=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,bl(d,n,c);break;case"selectionchange":if(ap)break;case"keydown":case"keyup":bl(d,n,c)}var P;if(_a)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else yn?Tc(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Pc&&n.locale!=="ko"&&(yn||O!=="onCompositionStart"?O==="onCompositionEnd"&&yn&&(P=Cc()):(Ot=c,va="value"in Ot?Ot.value:Ot.textContent,yn=!0)),b=Ai(u,O),0<b.length&&(O=new _l(O,e,null,n,c),d.push({event:O,listeners:b}),P?O.data=P:(P=bc(n),P!==null&&(O.data=P)))),(P=Qf?qf(e,n):Yf(e,n))&&(u=Ai(u,"onBeforeInput"),0<u.length&&(c=new _l("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}Fc(d,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ai(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jr(e,n),s!=null&&r.unshift(Rr(e,s,i)),s=jr(e,t),s!=null&&r.push(Rr(e,s,i))),e=e.return}return r}function hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rl(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=jr(n,s),l!=null&&o.unshift(Rr(n,l,a))):i||(l=jr(n,s),l!=null&&o.push(Rr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dp=/\r\n?/g,hp=/\u0000|\uFFFD/g;function Nl(e){return(typeof e=="string"?e:""+e).replace(dp,`
`).replace(hp,"")}function ii(e,t,n){if(t=Nl(t),Nl(e)!==t&&n)throw Error(x(425))}function Ii(){}var So=null,Eo=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jo=typeof setTimeout=="function"?setTimeout:void 0,fp=typeof clearTimeout=="function"?clearTimeout:void 0,$l=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof $l<"u"?function(e){return $l.resolve(null).then(e).catch(gp)}:jo;function gp(e){setTimeout(function(){throw e})}function Ms(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Tr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tr(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Al(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),at="__reactFiber$"+Gn,Nr="__reactProps$"+Gn,vt="__reactContainer$"+Gn,Co="__reactEvents$"+Gn,mp="__reactListeners$"+Gn,vp="__reactHandles$"+Gn;function Yt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Al(e);e!==null;){if(n=e[at])return n;e=Al(e)}return t}e=n,n=e.parentNode}return null}function Wr(e){return e=e[at]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function is(e){return e[Nr]||null}var Po=[],Sn=-1;function Ht(e){return{current:e}}function K(e){0>Sn||(e.current=Po[Sn],Po[Sn]=null,Sn--)}function G(e,t){Sn++,Po[Sn]=e.current,e.current=t}var Ft={},_e=Ht(Ft),Oe=Ht(!1),nn=Ft;function In(e,t){var n=e.type.contextTypes;if(!n)return Ft;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Le(e){return e=e.childContextTypes,e!=null}function zi(){K(Oe),K(_e)}function Il(e,t,n){if(_e.current!==Ft)throw Error(x(168));G(_e,t),G(Oe,n)}function Hc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(x(108,ef(e)||"Unknown",i));return Z({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ft,nn=_e.current,G(_e,e),G(Oe,Oe.current),!0}function zl(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=Hc(e,t,nn),r.__reactInternalMemoizedMergedChildContext=e,K(Oe),K(_e),G(_e,e)):K(Oe),G(Oe,n)}var ht=null,ss=!1,Us=!1;function Wc(e){ht===null?ht=[e]:ht.push(e)}function yp(e){ss=!0,Wc(e)}function Wt(){if(!Us&&ht!==null){Us=!0;var e=0,t=W;try{var n=ht;for(W=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ht=null,ss=!1}catch(i){throw ht!==null&&(ht=ht.slice(e+1)),gc(fa,Wt),i}finally{W=t,Us=!1}}return null}var En=[],xn=0,Mi=null,Ui=0,Ue=[],Fe=0,rn=null,ft=1,pt="";function Jt(e,t){En[xn++]=Ui,En[xn++]=Mi,Mi=e,Ui=t}function Vc(e,t,n){Ue[Fe++]=ft,Ue[Fe++]=pt,Ue[Fe++]=rn,rn=e;var r=ft;e=pt;var i=32-et(r)-1;r&=~(1<<i),n+=1;var s=32-et(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ft=1<<32-et(t)+i|n<<i|r,pt=s+e}else ft=1<<s|n<<i|r,pt=e}function Sa(e){e.return!==null&&(Jt(e,1),Vc(e,1,0))}function Ea(e){for(;e===Mi;)Mi=En[--xn],En[xn]=null,Ui=En[--xn],En[xn]=null;for(;e===rn;)rn=Ue[--Fe],Ue[Fe]=null,pt=Ue[--Fe],Ue[Fe]=null,ft=Ue[--Fe],Ue[Fe]=null}var Ie=null,Ae=null,q=!1,Ze=null;function Gc(e,t){var n=Be(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dl(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rn!==null?{id:ft,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Be(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Ae=null,!0):!1;default:return!1}}function To(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bo(e){if(q){var t=Ae;if(t){var n=t;if(!Dl(e,t)){if(To(e))throw Error(x(418));t=At(n.nextSibling);var r=Ie;t&&Dl(e,t)?Gc(r,n):(e.flags=e.flags&-4097|2,q=!1,Ie=e)}}else{if(To(e))throw Error(x(418));e.flags=e.flags&-4097|2,q=!1,Ie=e}}}function Ml(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function si(e){if(e!==Ie)return!1;if(!q)return Ml(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=Ae)){if(To(e))throw Jc(),Error(x(418));for(;t;)Gc(e,t),t=At(t.nextSibling)}if(Ml(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=At(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?At(e.stateNode.nextSibling):null;return!0}function Jc(){for(var e=Ae;e;)e=At(e.nextSibling)}function zn(){Ae=Ie=null,q=!1}function xa(e){Ze===null?Ze=[e]:Ze.push(e)}var wp=_t.ReactCurrentBatchConfig;function nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ul(e){var t=e._init;return t(e._payload)}function Kc(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Mt(p,f),p.index=0,p.sibling=null,p}function s(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,f,g,k){return f===null||f.tag!==6?(f=Js(g,p.mode,k),f.return=p,f):(f=i(f,g),f.return=p,f)}function l(p,f,g,k){var j=g.type;return j===vn?c(p,f,g.props.children,k,g.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xt&&Ul(j)===f.type)?(k=i(f,g.props),k.ref=nr(p,f,g),k.return=p,k):(k=Pi(g.type,g.key,g.props,null,p.mode,k),k.ref=nr(p,f,g),k.return=p,k)}function u(p,f,g,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ks(g,p.mode,k),f.return=p,f):(f=i(f,g.children||[]),f.return=p,f)}function c(p,f,g,k,j){return f===null||f.tag!==7?(f=tn(g,p.mode,k,j),f.return=p,f):(f=i(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Js(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Qr:return g=Pi(f.type,f.key,f.props,null,p.mode,g),g.ref=nr(p,null,f),g.return=p,g;case mn:return f=Ks(f,p.mode,g),f.return=p,f;case xt:var k=f._init;return d(p,k(f._payload),g)}if(lr(f)||Yn(f))return f=tn(f,p.mode,g,null),f.return=p,f;oi(p,f)}return null}function h(p,f,g,k){var j=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:a(p,f,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qr:return g.key===j?l(p,f,g,k):null;case mn:return g.key===j?u(p,f,g,k):null;case xt:return j=g._init,h(p,f,j(g._payload),k)}if(lr(g)||Yn(g))return j!==null?null:c(p,f,g,k,null);oi(p,g)}return null}function w(p,f,g,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(g)||null,a(f,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Qr:return p=p.get(k.key===null?g:k.key)||null,l(f,p,k,j);case mn:return p=p.get(k.key===null?g:k.key)||null,u(f,p,k,j);case xt:var b=k._init;return w(p,f,g,b(k._payload),j)}if(lr(k)||Yn(k))return p=p.get(g)||null,c(f,p,k,j,null);oi(f,k)}return null}function y(p,f,g,k){for(var j=null,b=null,P=f,O=f=0,F=null;P!==null&&O<g.length;O++){P.index>O?(F=P,P=null):F=P.sibling;var A=h(p,P,g[O],k);if(A===null){P===null&&(P=F);break}e&&P&&A.alternate===null&&t(p,P),f=s(A,f,O),b===null?j=A:b.sibling=A,b=A,P=F}if(O===g.length)return n(p,P),q&&Jt(p,O),j;if(P===null){for(;O<g.length;O++)P=d(p,g[O],k),P!==null&&(f=s(P,f,O),b===null?j=P:b.sibling=P,b=P);return q&&Jt(p,O),j}for(P=r(p,P);O<g.length;O++)F=w(P,p,O,g[O],k),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?O:F.key),f=s(F,f,O),b===null?j=F:b.sibling=F,b=F);return e&&P.forEach(function(ae){return t(p,ae)}),q&&Jt(p,O),j}function _(p,f,g,k){var j=Yn(g);if(typeof j!="function")throw Error(x(150));if(g=j.call(g),g==null)throw Error(x(151));for(var b=j=null,P=f,O=f=0,F=null,A=g.next();P!==null&&!A.done;O++,A=g.next()){P.index>O?(F=P,P=null):F=P.sibling;var ae=h(p,P,A.value,k);if(ae===null){P===null&&(P=F);break}e&&P&&ae.alternate===null&&t(p,P),f=s(ae,f,O),b===null?j=ae:b.sibling=ae,b=ae,P=F}if(A.done)return n(p,P),q&&Jt(p,O),j;if(P===null){for(;!A.done;O++,A=g.next())A=d(p,A.value,k),A!==null&&(f=s(A,f,O),b===null?j=A:b.sibling=A,b=A);return q&&Jt(p,O),j}for(P=r(p,P);!A.done;O++,A=g.next())A=w(P,p,O,A.value,k),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?O:A.key),f=s(A,f,O),b===null?j=A:b.sibling=A,b=A);return e&&P.forEach(function(Je){return t(p,Je)}),q&&Jt(p,O),j}function C(p,f,g,k){if(typeof g=="object"&&g!==null&&g.type===vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Qr:e:{for(var j=g.key,b=f;b!==null;){if(b.key===j){if(j=g.type,j===vn){if(b.tag===7){n(p,b.sibling),f=i(b,g.props.children),f.return=p,p=f;break e}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xt&&Ul(j)===b.type){n(p,b.sibling),f=i(b,g.props),f.ref=nr(p,b,g),f.return=p,p=f;break e}n(p,b);break}else t(p,b);b=b.sibling}g.type===vn?(f=tn(g.props.children,p.mode,k,g.key),f.return=p,p=f):(k=Pi(g.type,g.key,g.props,null,p.mode,k),k.ref=nr(p,f,g),k.return=p,p=k)}return o(p);case mn:e:{for(b=g.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=i(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Ks(g,p.mode,k),f.return=p,p=f}return o(p);case xt:return b=g._init,C(p,f,b(g._payload),k)}if(lr(g))return y(p,f,g,k);if(Yn(g))return _(p,f,g,k);oi(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,g),f.return=p,p=f):(n(p,f),f=Js(g,p.mode,k),f.return=p,p=f),o(p)):n(p,f)}return C}var Dn=Kc(!0),Qc=Kc(!1),Fi=Ht(null),Bi=null,jn=null,ja=null;function Ca(){ja=jn=Bi=null}function Pa(e){var t=Fi.current;K(Fi),e._currentValue=t}function Oo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rn(e,t){Bi=e,ja=jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(be=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(ja!==e)if(e={context:e,memoizedValue:t,next:null},jn===null){if(Bi===null)throw Error(x(308));jn=e,Bi.dependencies={lanes:0,firstContext:e}}else jn=jn.next=e;return t}var Xt=null;function Ta(e){Xt===null?Xt=[e]:Xt.push(e)}function qc(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,yt(e,r)}function yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jt=!1;function ba(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yt(e,n)}return i=r.interleaved,i===null?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,yt(e,n)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pa(e,n)}}function Fl(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var i=e.updateQueue;jt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,w=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,_=a;switch(h=t,w=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(w,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(w,d,h):y,h==null)break e;d=Z({},d,h);break e;case 2:jt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else w={eventTime:w,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=w,l=d):c=c.next=w,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);on|=o,e.lanes=o,e.memoizedState=d}}function Bl(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var Vr={},ut=Ht(Vr),$r=Ht(Vr),Ar=Ht(Vr);function Zt(e){if(e===Vr)throw Error(x(174));return e}function Oa(e,t){switch(G(Ar,t),G($r,e),G(ut,Vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uo(t,e)}K(ut),G(ut,t)}function Mn(){K(ut),K($r),K(Ar)}function Xc(e){Zt(Ar.current);var t=Zt(ut.current),n=uo(t,e.type);t!==n&&(G($r,e),G(ut,n))}function La(e){$r.current===e&&(K(ut),K($r))}var Y=Ht(0);function Wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=[];function Ra(){for(var e=0;e<Fs.length;e++)Fs[e]._workInProgressVersionPrimary=null;Fs.length=0}var Si=_t.ReactCurrentDispatcher,Bs=_t.ReactCurrentBatchConfig,sn=0,X=null,le=null,de=null,Vi=!1,vr=!1,Ir=0,_p=0;function ve(){throw Error(x(321))}function Na(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function $a(e,t,n,r,i,s){if(sn=s,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?xp:jp,e=n(r,i),vr){s=0;do{if(vr=!1,Ir=0,25<=s)throw Error(x(301));s+=1,de=le=null,t.updateQueue=null,Si.current=Cp,e=n(r,i)}while(vr)}if(Si.current=Gi,t=le!==null&&le.next!==null,sn=0,de=le=X=null,Vi=!1,t)throw Error(x(300));return e}function Aa(){var e=Ir!==0;return Ir=0,e}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?X.memoizedState=de=e:de=de.next=e,de}function Ge(){if(le===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=de===null?X.memoizedState:de.next;if(t!==null)de=t,le=e;else{if(e===null)throw Error(x(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},de===null?X.memoizedState=de=e:de=de.next=e}return de}function zr(e,t){return typeof t=="function"?t(e):t}function Hs(e){var t=Ge(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((sn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,X.lanes|=c,on|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,nt(r,t.memoizedState)||(be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,X.lanes|=s,on|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ws(e){var t=Ge(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);nt(s,t.memoizedState)||(be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Zc(){}function ed(e,t){var n=X,r=Ge(),i=t(),s=!nt(r.memoizedState,i);if(s&&(r.memoizedState=i,be=!0),r=r.queue,Ia(rd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,Dr(9,nd.bind(null,n,r,i,t),void 0,null),he===null)throw Error(x(349));sn&30||td(n,t,i)}return i}function td(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nd(e,t,n,r){t.value=n,t.getSnapshot=r,id(t)&&sd(e)}function rd(e,t,n){return n(function(){id(t)&&sd(e)})}function id(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function sd(e){var t=yt(e,1);t!==null&&tt(t,e,1,-1)}function Hl(e){var t=ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ep.bind(null,X,e),[t.memoizedState,e]}function Dr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function od(){return Ge().memoizedState}function Ei(e,t,n,r){var i=ot();X.flags|=e,i.memoizedState=Dr(1|t,n,void 0,r===void 0?null:r)}function os(e,t,n,r){var i=Ge();r=r===void 0?null:r;var s=void 0;if(le!==null){var o=le.memoizedState;if(s=o.destroy,r!==null&&Na(r,o.deps)){i.memoizedState=Dr(t,n,s,r);return}}X.flags|=e,i.memoizedState=Dr(1|t,n,s,r)}function Wl(e,t){return Ei(8390656,8,e,t)}function Ia(e,t){return os(2048,8,e,t)}function ad(e,t){return os(4,2,e,t)}function ld(e,t){return os(4,4,e,t)}function ud(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cd(e,t,n){return n=n!=null?n.concat([e]):null,os(4,4,ud.bind(null,t,e),n)}function za(){}function dd(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hd(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fd(e,t,n){return sn&21?(nt(n,t)||(n=yc(),X.lanes|=n,on|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,be=!0),e.memoizedState=n)}function kp(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var r=Bs.transition;Bs.transition={};try{e(!1),t()}finally{W=n,Bs.transition=r}}function pd(){return Ge().memoizedState}function Sp(e,t,n){var r=Dt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gd(e))md(t,n);else if(n=qc(e,t,n,r),n!==null){var i=Se();tt(n,e,r,i),vd(n,t,r)}}function Ep(e,t,n){var r=Dt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gd(e))md(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nt(a,o)){var l=t.interleaved;l===null?(i.next=i,Ta(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=qc(e,t,i,r),n!==null&&(i=Se(),tt(n,e,r,i),vd(n,t,r))}}function gd(e){var t=e.alternate;return e===X||t!==null&&t===X}function md(e,t){vr=Vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pa(e,n)}}var Gi={readContext:Ve,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},xp={readContext:Ve,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:Wl,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4194308,4,ud.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var n=ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sp.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:Hl,useDebugValue:za,useDeferredValue:function(e){return ot().memoizedState=e},useTransition:function(){var e=Hl(!1),t=e[0];return e=kp.bind(null,e[1]),ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=X,i=ot();if(q){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),he===null)throw Error(x(349));sn&30||td(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Wl(rd.bind(null,r,s,e),[e]),r.flags|=2048,Dr(9,nd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ot(),t=he.identifierPrefix;if(q){var n=pt,r=ft;n=(r&~(1<<32-et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ir++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_p++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:Ve,useCallback:dd,useContext:Ve,useEffect:Ia,useImperativeHandle:cd,useInsertionEffect:ad,useLayoutEffect:ld,useMemo:hd,useReducer:Hs,useRef:od,useState:function(){return Hs(zr)},useDebugValue:za,useDeferredValue:function(e){var t=Ge();return fd(t,le.memoizedState,e)},useTransition:function(){var e=Hs(zr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1},Cp={readContext:Ve,useCallback:dd,useContext:Ve,useEffect:Ia,useImperativeHandle:cd,useInsertionEffect:ad,useLayoutEffect:ld,useMemo:hd,useReducer:Ws,useRef:od,useState:function(){return Ws(zr)},useDebugValue:za,useDeferredValue:function(e){var t=Ge();return le===null?t.memoizedState=e:fd(t,le.memoizedState,e)},useTransition:function(){var e=Ws(zr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1};function qe(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),i=Dt(e),s=gt(r,i);s.payload=t,n!=null&&(s.callback=n),t=It(e,s,i),t!==null&&(tt(t,e,i,r),ki(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),i=Dt(e),s=gt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=It(e,s,i),t!==null&&(tt(t,e,i,r),ki(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=Dt(e),i=gt(n,r);i.tag=2,t!=null&&(i.callback=t),t=It(e,i,r),t!==null&&(tt(t,e,r,n),ki(t,e,r))}};function Vl(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Or(n,r)||!Or(i,s):!0}function yd(e,t,n){var r=!1,i=Ft,s=t.contextType;return typeof s=="object"&&s!==null?s=Ve(s):(i=Le(t)?nn:_e.current,r=t.contextTypes,s=(r=r!=null)?In(e,i):Ft),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gl(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function Ro(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ba(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ve(s):(s=Le(t)?nn:_e.current,i.context=In(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Lo(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&as.enqueueReplaceState(i,i.state,null),Hi(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Un(e,t){try{var n="",r=t;do n+=Zh(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Vs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function No(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pp=typeof WeakMap=="function"?WeakMap:Map;function wd(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ki||(Ki=!0,Ho=r),No(e,t)},n}function _d(e,t,n){n=gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){No(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){No(e,t),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Jl(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Fp.bind(null,e,t,n),t.then(e,e))}function Kl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ql(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,It(n,t,1))),n.lanes|=1),e)}var Tp=_t.ReactCurrentOwner,be=!1;function ke(e,t,n,r){t.child=e===null?Qc(t,null,n,r):Dn(t,e.child,n,r)}function ql(e,t,n,r,i){n=n.render;var s=t.ref;return Rn(t,i),r=$a(e,t,n,r,s,i),n=Aa(),e!==null&&!be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wt(e,t,i)):(q&&n&&Sa(t),t.flags|=1,ke(e,t,r,i),t.child)}function Yl(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Va(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,kd(e,t,s,r,i)):(e=Pi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Or,n(o,r)&&e.ref===t.ref)return wt(e,t,i)}return t.flags|=1,e=Mt(s,r),e.ref=t.ref,e.return=t,t.child=e}function kd(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Or(s,r)&&e.ref===t.ref)if(be=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(be=!0);else return t.lanes=e.lanes,wt(e,t,i)}return $o(e,t,n,r,i)}function Sd(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Pn,$e),$e|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Pn,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,G(Pn,$e),$e|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,G(Pn,$e),$e|=r;return ke(e,t,i,n),t.child}function Ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $o(e,t,n,r,i){var s=Le(n)?nn:_e.current;return s=In(t,s),Rn(t,i),n=$a(e,t,n,r,s,i),r=Aa(),e!==null&&!be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wt(e,t,i)):(q&&r&&Sa(t),t.flags|=1,ke(e,t,n,i),t.child)}function Xl(e,t,n,r,i){if(Le(n)){var s=!0;Di(t)}else s=!1;if(Rn(t,i),t.stateNode===null)xi(e,t),yd(t,n,r),Ro(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Le(n)?nn:_e.current,u=In(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gl(t,o,r,u),jt=!1;var h=t.memoizedState;o.state=h,Hi(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Oe.current||jt?(typeof c=="function"&&(Lo(t,n,c,r),l=t.memoizedState),(a=jt||Vl(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Yc(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:qe(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ve(l):(l=Le(n)?nn:_e.current,l=In(t,l));var w=n.getDerivedStateFromProps;(c=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Gl(t,o,r,l),jt=!1,h=t.memoizedState,o.state=h,Hi(t,r,o,i);var y=t.memoizedState;a!==d||h!==y||Oe.current||jt?(typeof w=="function"&&(Lo(t,n,w,r),y=t.memoizedState),(u=jt||Vl(t,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,s,i)}function Ao(e,t,n,r,i,s){Ed(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&zl(t,n,!1),wt(e,t,s);r=t.stateNode,Tp.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dn(t,e.child,null,s),t.child=Dn(t,null,a,s)):ke(e,t,a,s),t.memoizedState=r.state,i&&zl(t,n,!0),t.child}function xd(e){var t=e.stateNode;t.pendingContext?Il(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Il(e,t.context,!1),Oa(e,t.containerInfo)}function Zl(e,t,n,r,i){return zn(),xa(i),t.flags|=256,ke(e,t,n,r),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jd(e,t,n){var r=t.pendingProps,i=Y.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),G(Y,i&1),e===null)return bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cs(o,r,0,null),e=tn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zo(n),t.memoizedState=Io,e):Da(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bp(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Mt(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mt(a,s):(s=tn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?zo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Io,r}return s=e.child,e=s.sibling,r=Mt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Da(e,t){return t=cs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,n,r){return r!==null&&xa(r),Dn(t,e.child,null,n),e=Da(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bp(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Vs(Error(x(422))),ai(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=cs({mode:"visible",children:r.children},i,0,null),s=tn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Dn(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Io,s);if(!(t.mode&1))return ai(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(x(419)),r=Vs(s,r,void 0),ai(e,t,o,r)}if(a=(o&e.childLanes)!==0,be||a){if(r=he,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yt(e,i),tt(r,e,i,-1))}return Wa(),r=Vs(Error(x(421))),ai(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Bp.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ae=At(i.nextSibling),Ie=t,q=!0,Ze=null,e!==null&&(Ue[Fe++]=ft,Ue[Fe++]=pt,Ue[Fe++]=rn,ft=e.id,pt=e.overflow,rn=t),t=Da(t,r.children),t.flags|=4096,t)}function eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oo(e.return,t,n)}function Gs(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Cd(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ke(e,t,r.children,n),r=Y.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,n,t);else if(e.tag===19)eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(G(Y,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wi(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,s);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Mt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Op(e,t,n){switch(t.tag){case 3:xd(t),zn();break;case 5:Xc(t);break;case 1:Le(t.type)&&Di(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;G(Fi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(G(Y,Y.current&1),t.flags|=128,null):n&t.child.childLanes?jd(e,t,n):(G(Y,Y.current&1),e=wt(e,t,n),e!==null?e.sibling:null);G(Y,Y.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Y,Y.current),r)break;return null;case 22:case 23:return t.lanes=0,Sd(e,t,n)}return wt(e,t,n)}var Pd,Do,Td,bd;Pd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Do=function(){};Td=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zt(ut.current);var s=null;switch(n){case"input":i=so(e,i),r=so(e,r),s=[];break;case"select":i=Z({},i,{value:void 0}),r=Z({},r,{value:void 0}),s=[];break;case"textarea":i=lo(e,i),r=lo(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ii)}co(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Er.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Er.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};bd=function(e,t,n,r){n!==r&&(t.flags|=4)};function rr(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lp(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return Le(t.type)&&zi(),ye(t),null;case 3:return r=t.stateNode,Mn(),K(Oe),K(_e),Ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(Go(Ze),Ze=null))),Do(e,t),ye(t),null;case 5:La(t);var i=Zt(Ar.current);if(n=t.type,e!==null&&t.stateNode!=null)Td(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return ye(t),null}if(e=Zt(ut.current),si(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[at]=t,r[Nr]=s,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(i=0;i<cr.length;i++)J(cr[i],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":ul(r,s),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},J("invalid",r);break;case"textarea":dl(r,s),J("invalid",r)}co(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ii(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ii(r.textContent,a,e),i=["children",""+a]):Er.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":qr(r),cl(r,s,!0);break;case"textarea":qr(r),hl(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ii)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[at]=t,e[Nr]=r,Pd(e,t,!1,!1),t.stateNode=e;e:{switch(o=ho(n,r),n){case"dialog":J("cancel",e),J("close",e),i=r;break;case"iframe":case"object":case"embed":J("load",e),i=r;break;case"video":case"audio":for(i=0;i<cr.length;i++)J(cr[i],e);i=r;break;case"source":J("error",e),i=r;break;case"img":case"image":case"link":J("error",e),J("load",e),i=r;break;case"details":J("toggle",e),i=r;break;case"input":ul(e,r),i=so(e,r),J("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Z({},r,{value:void 0}),J("invalid",e);break;case"textarea":dl(e,r),i=lo(e,r),J("invalid",e);break;default:i=r}co(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oc(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ic(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xr(e,l):typeof l=="number"&&xr(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Er.hasOwnProperty(s)?l!=null&&s==="onScroll"&&J("scroll",e):l!=null&&la(e,s,l,o))}switch(n){case"input":qr(e),cl(e,r,!1);break;case"textarea":qr(e),hl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Tn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Tn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)bd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=Zt(Ar.current),Zt(ut.current),si(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(s=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ii(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return ye(t),null;case 13:if(K(Y),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ae!==null&&t.mode&1&&!(t.flags&128))Jc(),zn(),t.flags|=98560,s=!1;else if(s=si(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(x(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[at]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),s=!1}else Ze!==null&&(Go(Ze),Ze=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?ue===0&&(ue=3):Wa())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Mn(),Do(e,t),e===null&&Lr(t.stateNode.containerInfo),ye(t),null;case 10:return Pa(t.type._context),ye(t),null;case 17:return Le(t.type)&&zi(),ye(t),null;case 19:if(K(Y),s=t.memoizedState,s===null)return ye(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)rr(s,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wi(e),o!==null){for(t.flags|=128,rr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(Y,Y.current&1|2),t.child}e=e.sibling}s.tail!==null&&se()>Fn&&(t.flags|=128,r=!0,rr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Wi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!q)return ye(t),null}else 2*se()-s.renderingStartTime>Fn&&n!==1073741824&&(t.flags|=128,r=!0,rr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=se(),t.sibling=null,n=Y.current,G(Y,r?n&1|2:n&1),t):(ye(t),null);case 22:case 23:return Ha(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$e&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function Rp(e,t){switch(Ea(t),t.tag){case 1:return Le(t.type)&&zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(),K(Oe),K(_e),Ra(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return La(t),null;case 13:if(K(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Y),null;case 4:return Mn(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return Ha(),null;case 24:return null;default:return null}}var li=!1,we=!1,Np=typeof WeakSet=="function"?WeakSet:Set,L=null;function Cn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(e,t,r)}else n.current=null}function Mo(e,t,n){try{n()}catch(r){te(e,t,r)}}var tu=!1;function $p(e,t){if(So=Ni,e=$c(),ka(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var w;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(w=d.firstChild)!==null;)h=d,d=w;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(w=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eo={focusedElem:e,selectionRange:n},Ni=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,C=y.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:qe(t.type,_),C);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(k){te(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return y=tu,tu=!1,y}function yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mo(t,n,s)}i=i.next}while(i!==r)}}function ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Uo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Od(e){var t=e.alternate;t!==null&&(e.alternate=null,Od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Nr],delete t[Co],delete t[mp],delete t[vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ld(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ii));else if(r!==4&&(e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}function Bo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bo(e,t,n),e=e.sibling;e!==null;)Bo(e,t,n),e=e.sibling}var pe=null,Ye=!1;function kt(e,t,n){for(n=n.child;n!==null;)Rd(e,t,n),n=n.sibling}function Rd(e,t,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(es,n)}catch{}switch(n.tag){case 5:we||Cn(n,t);case 6:var r=pe,i=Ye;pe=null,kt(e,t,n),pe=r,Ye=i,pe!==null&&(Ye?(e=pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(Ye?(e=pe,n=n.stateNode,e.nodeType===8?Ms(e.parentNode,n):e.nodeType===1&&Ms(e,n),Tr(e)):Ms(pe,n.stateNode));break;case 4:r=pe,i=Ye,pe=n.stateNode.containerInfo,Ye=!0,kt(e,t,n),pe=r,Ye=i;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mo(n,t,o),i=i.next}while(i!==r)}kt(e,t,n);break;case 1:if(!we&&(Cn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){te(n,t,a)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,kt(e,t,n),we=r):kt(e,t,n);break;default:kt(e,t,n)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Np),t.forEach(function(r){var i=Hp.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ke(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:pe=a.stateNode,Ye=!1;break e;case 3:pe=a.stateNode.containerInfo,Ye=!0;break e;case 4:pe=a.stateNode.containerInfo,Ye=!0;break e}a=a.return}if(pe===null)throw Error(x(160));Rd(s,o,i),pe=null,Ye=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nd(t,e),t=t.sibling}function Nd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),it(e),r&4){try{yr(3,e,e.return),ls(3,e)}catch(_){te(e,e.return,_)}try{yr(5,e,e.return)}catch(_){te(e,e.return,_)}}break;case 1:Ke(t,e),it(e),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Ke(t,e),it(e),r&512&&n!==null&&Cn(n,n.return),e.flags&32){var i=e.stateNode;try{xr(i,"")}catch(_){te(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tc(i,s),ho(a,o);var u=ho(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?oc(i,d):c==="dangerouslySetInnerHTML"?ic(i,d):c==="children"?xr(i,d):la(i,c,d,u)}switch(a){case"input":oo(i,s);break;case"textarea":nc(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Tn(i,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?Tn(i,!!s.multiple,s.defaultValue,!0):Tn(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nr]=s}catch(_){te(e,e.return,_)}}break;case 6:if(Ke(t,e),it(e),r&4){if(e.stateNode===null)throw Error(x(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){te(e,e.return,_)}}break;case 3:if(Ke(t,e),it(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(_){te(e,e.return,_)}break;case 4:Ke(t,e),it(e);break;case 13:Ke(t,e),it(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fa=se())),r&4&&ru(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(we=(u=we)||c,Ke(t,e),we=u):Ke(t,e),it(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(d=L=c;L!==null;){switch(h=L,w=h.child,h.tag){case 0:case 11:case 14:case 15:yr(4,h,h.return);break;case 1:Cn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){te(r,n,_)}}break;case 5:Cn(h,h.return);break;case 22:if(h.memoizedState!==null){su(d);continue}}w!==null?(w.return=h,L=w):su(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sc("display",o))}catch(_){te(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){te(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ke(t,e),it(e),r&4&&ru(e);break;case 21:break;default:Ke(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ld(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xr(i,""),r.flags&=-33);var s=nu(e);Bo(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nu(e);Fo(e,a,o);break;default:throw Error(x(161))}}catch(l){te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ap(e,t,n){L=e,$d(e)}function $d(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||li;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||we;a=li;var u=we;if(li=o,(we=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?ou(i):l!==null?(l.return=o,L=l):ou(i);for(;s!==null;)L=s,$d(s),s=s.sibling;L=i,li=a,we=u}iu(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):iu(e)}}function iu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||ls(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!we)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qe(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Bl(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bl(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Tr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}we||t.flags&512&&Uo(t)}catch(h){te(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function su(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function ou(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ls(4,t)}catch(l){te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){te(t,i,l)}}var s=t.return;try{Uo(t)}catch(l){te(t,s,l)}break;case 5:var o=t.return;try{Uo(t)}catch(l){te(t,o,l)}}}catch(l){te(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Ip=Math.ceil,Ji=_t.ReactCurrentDispatcher,Ma=_t.ReactCurrentOwner,He=_t.ReactCurrentBatchConfig,H=0,he=null,oe=null,ge=0,$e=0,Pn=Ht(0),ue=0,Mr=null,on=0,us=0,Ua=0,wr=null,Pe=null,Fa=0,Fn=1/0,ct=null,Ki=!1,Ho=null,zt=null,ui=!1,Lt=null,Qi=0,_r=0,Wo=null,ji=-1,Ci=0;function Se(){return H&6?se():ji!==-1?ji:ji=se()}function Dt(e){return e.mode&1?H&2&&ge!==0?ge&-ge:wp.transition!==null?(Ci===0&&(Ci=yc()),Ci):(e=W,e!==0||(e=window.event,e=e===void 0?16:jc(e.type)),e):1}function tt(e,t,n,r){if(50<_r)throw _r=0,Wo=null,Error(x(185));Br(e,n,r),(!(H&2)||e!==he)&&(e===he&&(!(H&2)&&(us|=n),ue===4&&Tt(e,ge)),Re(e,r),n===1&&H===0&&!(t.mode&1)&&(Fn=se()+500,ss&&Wt()))}function Re(e,t){var n=e.callbackNode;wf(e,t);var r=Ri(e,e===he?ge:0);if(r===0)n!==null&&gl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gl(n),t===1)e.tag===0?yp(au.bind(null,e)):Wc(au.bind(null,e)),pp(function(){!(H&6)&&Wt()}),n=null;else{switch(wc(r)){case 1:n=fa;break;case 4:n=mc;break;case 16:n=Li;break;case 536870912:n=vc;break;default:n=Li}n=Bd(n,Ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ad(e,t){if(ji=-1,Ci=0,H&6)throw Error(x(327));var n=e.callbackNode;if(Nn()&&e.callbackNode!==n)return null;var r=Ri(e,e===he?ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qi(e,r);else{t=r;var i=H;H|=2;var s=zd();(he!==e||ge!==t)&&(ct=null,Fn=se()+500,en(e,t));do try{Mp();break}catch(a){Id(e,a)}while(!0);Ca(),Ji.current=s,H=i,oe!==null?t=0:(he=null,ge=0,t=ue)}if(t!==0){if(t===2&&(i=vo(e),i!==0&&(r=i,t=Vo(e,i))),t===1)throw n=Mr,en(e,0),Tt(e,r),Re(e,se()),n;if(t===6)Tt(e,r);else{if(i=e.current.alternate,!(r&30)&&!zp(i)&&(t=qi(e,r),t===2&&(s=vo(e),s!==0&&(r=s,t=Vo(e,s))),t===1))throw n=Mr,en(e,0),Tt(e,r),Re(e,se()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:Kt(e,Pe,ct);break;case 3:if(Tt(e,r),(r&130023424)===r&&(t=Fa+500-se(),10<t)){if(Ri(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jo(Kt.bind(null,e,Pe,ct),t);break}Kt(e,Pe,ct);break;case 4:if(Tt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-et(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ip(r/1960))-r,10<r){e.timeoutHandle=jo(Kt.bind(null,e,Pe,ct),r);break}Kt(e,Pe,ct);break;case 5:Kt(e,Pe,ct);break;default:throw Error(x(329))}}}return Re(e,se()),e.callbackNode===n?Ad.bind(null,e):null}function Vo(e,t){var n=wr;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=qi(e,t),e!==2&&(t=Pe,Pe=n,t!==null&&Go(t)),e}function Go(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function zp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tt(e,t){for(t&=~Ua,t&=~us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),r=1<<n;e[n]=-1,t&=~r}}function au(e){if(H&6)throw Error(x(327));Nn();var t=Ri(e,0);if(!(t&1))return Re(e,se()),null;var n=qi(e,t);if(e.tag!==0&&n===2){var r=vo(e);r!==0&&(t=r,n=Vo(e,r))}if(n===1)throw n=Mr,en(e,0),Tt(e,t),Re(e,se()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,Pe,ct),Re(e,se()),null}function Ba(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(Fn=se()+500,ss&&Wt())}}function an(e){Lt!==null&&Lt.tag===0&&!(H&6)&&Nn();var t=H;H|=1;var n=He.transition,r=W;try{if(He.transition=null,W=1,e)return e()}finally{W=r,He.transition=n,H=t,!(H&6)&&Wt()}}function Ha(){$e=Pn.current,K(Pn)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fp(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Ea(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zi();break;case 3:Mn(),K(Oe),K(_e),Ra();break;case 5:La(r);break;case 4:Mn();break;case 13:K(Y);break;case 19:K(Y);break;case 10:Pa(r.type._context);break;case 22:case 23:Ha()}n=n.return}if(he=e,oe=e=Mt(e.current,null),ge=$e=t,ue=0,Mr=null,Ua=us=on=0,Pe=wr=null,Xt!==null){for(t=0;t<Xt.length;t++)if(n=Xt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xt=null}return e}function Id(e,t){do{var n=oe;try{if(Ca(),Si.current=Gi,Vi){for(var r=X.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vi=!1}if(sn=0,de=le=X=null,vr=!1,Ir=0,Ma.current=null,n===null||n.return===null){ue=1,Mr=t,oe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var w=Kl(o);if(w!==null){w.flags&=-257,Ql(w,o,a,s,t),w.mode&1&&Jl(s,u,t),t=w,l=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(l),t.updateQueue=_}else y.add(l);break e}else{if(!(t&1)){Jl(s,u,t),Wa();break e}l=Error(x(426))}}else if(q&&a.mode&1){var C=Kl(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ql(C,o,a,s,t),xa(Un(l,a));break e}}s=l=Un(l,a),ue!==4&&(ue=2),wr===null?wr=[s]:wr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=wd(s,l,t);Fl(s,p);break e;case 1:a=l;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zt===null||!zt.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=_d(s,a,t);Fl(s,k);break e}}s=s.return}while(s!==null)}Md(n)}catch(j){t=j,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function zd(){var e=Ji.current;return Ji.current=Gi,e===null?Gi:e}function Wa(){(ue===0||ue===3||ue===2)&&(ue=4),he===null||!(on&268435455)&&!(us&268435455)||Tt(he,ge)}function qi(e,t){var n=H;H|=2;var r=zd();(he!==e||ge!==t)&&(ct=null,en(e,t));do try{Dp();break}catch(i){Id(e,i)}while(!0);if(Ca(),H=n,Ji.current=r,oe!==null)throw Error(x(261));return he=null,ge=0,ue}function Dp(){for(;oe!==null;)Dd(oe)}function Mp(){for(;oe!==null&&!cf();)Dd(oe)}function Dd(e){var t=Fd(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?Md(e):oe=t,Ma.current=null}function Md(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rp(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,oe=null;return}}else if(n=Lp(n,t,$e),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ue===0&&(ue=5)}function Kt(e,t,n){var r=W,i=He.transition;try{He.transition=null,W=1,Up(e,t,n,r)}finally{He.transition=i,W=r}return null}function Up(e,t,n,r){do Nn();while(Lt!==null);if(H&6)throw Error(x(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(_f(e,s),e===he&&(oe=he=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ui||(ui=!0,Bd(Li,function(){return Nn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=He.transition,He.transition=null;var o=W;W=1;var a=H;H|=4,Ma.current=null,$p(e,n),Nd(n,e),op(Eo),Ni=!!So,Eo=So=null,e.current=n,Ap(n),df(),H=a,W=o,He.transition=s}else e.current=n;if(ui&&(ui=!1,Lt=e,Qi=i),s=e.pendingLanes,s===0&&(zt=null),pf(n.stateNode),Re(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ki)throw Ki=!1,e=Ho,Ho=null,e;return Qi&1&&e.tag!==0&&Nn(),s=e.pendingLanes,s&1?e===Wo?_r++:(_r=0,Wo=e):_r=0,Wt(),null}function Nn(){if(Lt!==null){var e=wc(Qi),t=He.transition,n=W;try{if(He.transition=null,W=16>e?16:e,Lt===null)var r=!1;else{if(e=Lt,Lt=null,Qi=0,H&6)throw Error(x(331));var i=H;for(H|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:yr(8,c,s)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var h=c.sibling,w=c.return;if(Od(c),c===u){L=null;break}if(h!==null){h.return=w,L=h;break}L=w}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yr(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,L=p;break e}L=s.return}}var f=e.current;for(L=f;L!==null;){o=L;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,L=g;else e:for(o=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ls(9,a)}}catch(j){te(a,a.return,j)}if(a===o){L=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,L=k;break e}L=a.return}}if(H=i,Wt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(es,e)}catch{}r=!0}return r}finally{W=n,He.transition=t}}return!1}function lu(e,t,n){t=Un(n,t),t=wd(e,t,1),e=It(e,t,1),t=Se(),e!==null&&(Br(e,1,t),Re(e,t))}function te(e,t,n){if(e.tag===3)lu(e,e,n);else for(;t!==null;){if(t.tag===3){lu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){e=Un(n,e),e=_d(t,e,1),t=It(t,e,1),e=Se(),t!==null&&(Br(t,1,e),Re(t,e));break}}t=t.return}}function Fp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(ge&n)===n&&(ue===4||ue===3&&(ge&130023424)===ge&&500>se()-Fa?en(e,0):Ua|=n),Re(e,t)}function Ud(e,t){t===0&&(e.mode&1?(t=Zr,Zr<<=1,!(Zr&130023424)&&(Zr=4194304)):t=1);var n=Se();e=yt(e,t),e!==null&&(Br(e,t,n),Re(e,n))}function Bp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ud(e,n)}function Hp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),Ud(e,n)}var Fd;Fd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return be=!1,Op(e,t,n);be=!!(e.flags&131072)}else be=!1,q&&t.flags&1048576&&Vc(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xi(e,t),e=t.pendingProps;var i=In(t,_e.current);Rn(t,n),i=$a(null,t,r,e,i,n);var s=Aa();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(s=!0,Di(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ba(t),i.updater=as,t.stateNode=i,i._reactInternals=t,Ro(t,r,e,n),t=Ao(null,t,r,!0,s,n)):(t.tag=0,q&&s&&Sa(t),ke(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xi(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Vp(r),e=qe(r,e),i){case 0:t=$o(null,t,r,e,n);break e;case 1:t=Xl(null,t,r,e,n);break e;case 11:t=ql(null,t,r,e,n);break e;case 14:t=Yl(null,t,r,qe(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qe(r,i),$o(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qe(r,i),Xl(e,t,r,i,n);case 3:e:{if(xd(t),e===null)throw Error(x(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Yc(e,t),Hi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Un(Error(x(423)),t),t=Zl(e,t,r,n,i);break e}else if(r!==i){i=Un(Error(x(424)),t),t=Zl(e,t,r,n,i);break e}else for(Ae=At(t.stateNode.containerInfo.firstChild),Ie=t,q=!0,Ze=null,n=Qc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===i){t=wt(e,t,n);break e}ke(e,t,r,n)}t=t.child}return t;case 5:return Xc(t),e===null&&bo(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,xo(r,i)?o=null:s!==null&&xo(r,s)&&(t.flags|=32),Ed(e,t),ke(e,t,o,n),t.child;case 6:return e===null&&bo(t),null;case 13:return jd(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,n):ke(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qe(r,i),ql(e,t,r,i,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,G(Fi,r._currentValue),r._currentValue=o,s!==null)if(nt(s.value,o)){if(s.children===i.children&&!Oe.current){t=wt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Oo(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Oo(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ke(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Rn(t,n),i=Ve(i),r=r(i),t.flags|=1,ke(e,t,r,n),t.child;case 14:return r=t.type,i=qe(r,t.pendingProps),i=qe(r.type,i),Yl(e,t,r,i,n);case 15:return kd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qe(r,i),xi(e,t),t.tag=1,Le(r)?(e=!0,Di(t)):e=!1,Rn(t,n),yd(t,r,i),Ro(t,r,i,n),Ao(null,t,r,!0,e,n);case 19:return Cd(e,t,n);case 22:return Sd(e,t,n)}throw Error(x(156,t.tag))};function Bd(e,t){return gc(e,t)}function Wp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,n,r){return new Wp(e,t,n,r)}function Va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vp(e){if(typeof e=="function")return Va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ca)return 11;if(e===da)return 14}return 2}function Mt(e,t){var n=e.alternate;return n===null?(n=Be(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pi(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Va(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vn:return tn(n.children,i,s,t);case ua:o=8,i|=8;break;case to:return e=Be(12,n,t,i|2),e.elementType=to,e.lanes=s,e;case no:return e=Be(13,n,t,i),e.elementType=no,e.lanes=s,e;case ro:return e=Be(19,n,t,i),e.elementType=ro,e.lanes=s,e;case Xu:return cs(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qu:o=10;break e;case Yu:o=9;break e;case ca:o=11;break e;case da:o=14;break e;case xt:o=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=Be(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function tn(e,t,n,r){return e=Be(7,e,r,t),e.lanes=n,e}function cs(e,t,n,r){return e=Be(22,e,r,t),e.elementType=Xu,e.lanes=n,e.stateNode={isHidden:!1},e}function Js(e,t,n){return e=Be(6,e,null,t),e.lanes=n,e}function Ks(e,t,n){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ga(e,t,n,r,i,s,o,a,l){return e=new Gp(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Be(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ba(s),e}function Jp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hd(e){if(!e)return Ft;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if(Le(n))return Hc(e,n,t)}return t}function Wd(e,t,n,r,i,s,o,a,l){return e=Ga(n,r,!0,e,i,s,o,a,l),e.context=Hd(null),n=e.current,r=Se(),i=Dt(n),s=gt(r,i),s.callback=t??null,It(n,s,i),e.current.lanes=i,Br(e,i,r),Re(e,r),e}function ds(e,t,n,r){var i=t.current,s=Se(),o=Dt(i);return n=Hd(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=It(i,t,o),e!==null&&(tt(e,i,o,s),ki(e,i,o)),o}function Yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ja(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function Kp(){return null}var Vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ka(e){this._internalRoot=e}hs.prototype.render=Ka.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));ds(e,t,null,null)};hs.prototype.unmount=Ka.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){ds(null,e,null,null)}),t[vt]=null}};function hs(e){this._internalRoot=e}hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&t!==0&&t<Pt[n].priority;n++);Pt.splice(n,0,e),n===0&&xc(e)}};function Qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cu(){}function Qp(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Yi(o);s.call(u)}}var o=Wd(t,r,e,0,null,!1,!1,"",cu);return e._reactRootContainer=o,e[vt]=o.current,Lr(e.nodeType===8?e.parentNode:e),an(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Yi(l);a.call(u)}}var l=Ga(e,0,!1,null,null,!1,!1,"",cu);return e._reactRootContainer=l,e[vt]=l.current,Lr(e.nodeType===8?e.parentNode:e),an(function(){ds(t,l,n,r)}),l}function ps(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Yi(o);a.call(l)}}ds(t,o,e,i)}else o=Qp(n,t,e,i,r);return Yi(o)}_c=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(pa(t,n|1),Re(t,se()),!(H&6)&&(Fn=se()+500,Wt()))}break;case 13:an(function(){var r=yt(e,1);if(r!==null){var i=Se();tt(r,e,1,i)}}),Ja(e,1)}};ga=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var n=Se();tt(t,e,134217728,n)}Ja(e,134217728)}};kc=function(e){if(e.tag===13){var t=Dt(e),n=yt(e,t);if(n!==null){var r=Se();tt(n,e,t,r)}Ja(e,t)}};Sc=function(){return W};Ec=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};po=function(e,t,n){switch(t){case"input":if(oo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=is(r);if(!i)throw Error(x(90));ec(r),oo(r,i)}}}break;case"textarea":nc(e,n);break;case"select":t=n.value,t!=null&&Tn(e,!!n.multiple,t,!1)}};uc=Ba;cc=an;var qp={usingClientEntryPoint:!1,Events:[Wr,kn,is,ac,lc,Ba]},ir={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yp={bundleType:ir.bundleType,version:ir.version,rendererPackageName:ir.rendererPackageName,rendererConfig:ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fc(e),e===null?null:e.stateNode},findFiberByHostInstance:ir.findFiberByHostInstance||Kp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{es=ci.inject(Yp),lt=ci}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qp;De.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qa(t))throw Error(x(200));return Jp(e,t,null,n)};De.createRoot=function(e,t){if(!Qa(e))throw Error(x(299));var n=!1,r="",i=Vd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ga(e,1,!1,null,null,n,!1,r,i),e[vt]=t.current,Lr(e.nodeType===8?e.parentNode:e),new Ka(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=fc(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return an(e)};De.hydrate=function(e,t,n){if(!fs(t))throw Error(x(200));return ps(null,e,t,!0,n)};De.hydrateRoot=function(e,t,n){if(!Qa(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Vd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Wd(t,null,e,1,n??null,i,!1,s,o),e[vt]=t.current,Lr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new hs(t)};De.render=function(e,t,n){if(!fs(t))throw Error(x(200));return ps(null,e,t,!1,n)};De.unmountComponentAtNode=function(e){if(!fs(e))throw Error(x(40));return e._reactRootContainer?(an(function(){ps(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};De.unstable_batchedUpdates=Ba;De.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fs(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return ps(e,t,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(e){console.error(e)}}Gd(),Gu.exports=De;var Xp=Gu.exports,Jd,du=Xp;Jd=du.createRoot,du.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rt=(e,t)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>D.createElement("svg",{ref:c,...Zp,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${eg(e)}`,a].join(" "),...u},[...t.map(([d,h])=>D.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=rt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=rt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=rt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=rt("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ug({poem:e,onWordClick:t}){const[n,r]=D.useState(null),[i,s]=D.useState(null),[o,a]=D.useState(""),l=(c,d)=>{t(c,d),s(c),setTimeout(()=>s(null),1e3)};D.useEffect(()=>{const c=()=>{const d=window.getSelection();d&&d.toString().trim()&&a(d.toString().trim())};return document.addEventListener("mouseup",c),()=>document.removeEventListener("mouseup",c)},[]),D.useEffect(()=>{const c=d=>{if(d.data&&d.data.target==="googtrans"&&o){const h=d.data.translation;h&&l(o,h)}};return window.addEventListener("message",c),()=>window.removeEventListener("message",c)},[o,t]);const u=e.content.split(`
`).filter(c=>c.trim()!=="");return E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[E.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),E.jsxs("p",{className:"text-gray-600 mb-4",children:["by ",e.author]}),E.jsx("div",{className:"whitespace-pre-wrap font-serif leading-relaxed",children:u.map((c,d)=>E.jsx("div",{className:"mb-2",children:c.split(/\s+/).map((h,w)=>{const y=h.replace(/[.,!?]/g,""),_=e.translations[y],C=i===y;return E.jsxs(Uh.Fragment,{children:[E.jsxs("span",{className:`relative inline-block transition-all duration-300 ${_?"cursor-pointer hover:bg-yellow-100":""} ${C?"animate-pulse bg-green-200":""}`,onMouseEnter:()=>_&&r(y),onMouseLeave:()=>r(null),onClick:()=>{_&&l(y,e.translations[y])},children:[h,n===y&&E.jsxs("div",{className:"absolute z-10 bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max",children:[E.jsxs("div",{className:"bg-gray-900 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 shadow-lg",children:[E.jsx("span",{children:e.translations[y]}),E.jsx(og,{size:16,className:`text-gray-300 ${C?"text-green-400":""}`})]}),E.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-full",children:E.jsx("div",{className:"border-8 border-transparent border-t-gray-900 w-0 h-0"})})]})]}),w<c.split(/\s+/).length-1&&" "]},`${d}-${w}`)})},d))}),E.jsx("div",{className:"mt-4 text-sm text-blue-600",children:"Tip: Select any text to translate with Google Translate and add it to your word list"})]})}function cg({words:e,currentLanguage:t,onRemoveWord:n}){const r=e.filter(i=>i.language===t);return r.length===0?E.jsx("div",{className:"text-gray-500 text-center py-8",children:"No words saved yet for this language. Click on words in the poems to add them to your list."}):E.jsx("div",{className:"space-y-4",children:r.map(i=>E.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-lg",children:i.word}),E.jsx("p",{className:"text-gray-600",children:i.definition}),E.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Added: ",new Date(i.addedAt).toLocaleDateString()]})]}),E.jsx("button",{onClick:()=>n(i.word),className:"text-red-500 hover:text-red-700 transition-colors","aria-label":"Remove word",children:E.jsx(ag,{size:20})})]},i.word))})}function dg({currentLanguage:e,onLanguageChange:t}){const n=[{value:"dutch",label:"Dutch"},{value:"german",label:"German"},{value:"greek",label:"Attic Greek"},{value:"russian",label:"Russian"},{value:"italian",label:"Italian"},{value:"spanish",label:"Spanish"}];return E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(sg,{className:"text-indigo-600",size:20}),E.jsx("select",{value:e,onChange:r=>t(r.target.value),className:"bg-white border border-gray-300 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:n.map(r=>E.jsx("option",{value:r.value,children:r.label},r.value))})]})}const hg="modulepreload",fg=function(e){return"/"+e},pu={},Bn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fg(l),l in pu)return;pu[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":hg,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,w)=>{d.addEventListener("load",h),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},pg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bn(async()=>{const{default:r}=await Promise.resolve().then(()=>Jn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class qa extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class gg extends qa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mg extends qa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vg extends qa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ko;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ko||(Ko={}));var yg=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class wg{constructor(t,{headers:n={},customFetch:r,region:i=Ko.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=pg(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return yg(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(y=>{throw new gg(y)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new mg(c);if(!c.ok)throw new vg(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return h==="application/json"?w=yield c.json():h==="application/octet-stream"?w=yield c.blob():h==="text/event-stream"?w=c:h==="multipart/form-data"?w=yield c.formData():w=yield c.text(),{data:w,error:null}}catch(i){return{data:null,error:i}}})}}var Te={},Ya={},gs={},Gr={},ms={},vs={},_g=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hn=_g();const kg=Hn.fetch,Kd=Hn.fetch.bind(Hn),Qd=Hn.Headers,Sg=Hn.Request,Eg=Hn.Response,Jn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qd,Request:Sg,Response:Eg,default:Kd,fetch:kg},Symbol.toStringTag,{value:"Module"})),xg=xh(Jn);var ys={};Object.defineProperty(ys,"__esModule",{value:!0});let jg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ys.default=jg;var qd=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});const Cg=qd(xg),Pg=qd(ys);let Tg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,d=null,h=s.status,w=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,w="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const _=await s.text();try{u=JSON.parse(_),Array.isArray(u)&&s.status===404&&(c=[],u=null,h=200,w="OK")}catch{s.status===404&&_===""?(h=204,w="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,w="OK"),u&&this.shouldThrowOnError)throw new Pg.default(u)}return{error:u,data:c,count:d,status:h,statusText:w}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};vs.default=Tg;var bg=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});const Og=bg(vs);let Lg=class extends Og.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ms.default=Lg;var Rg=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gr,"__esModule",{value:!0});const Ng=Rg(ms);let $g=class extends Ng.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Gr.default=$g;var Ag=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});const sr=Ag(Gr);let Ig=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new sr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new sr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new sr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new sr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new sr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};gs.default=Ig;var ws={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.version=void 0;_s.version="0.0.0-automated";Object.defineProperty(ws,"__esModule",{value:!0});ws.DEFAULT_HEADERS=void 0;const zg=_s;ws.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zg.version}`};var Yd=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ya,"__esModule",{value:!0});const Dg=Yd(gs),Mg=Yd(Gr),Ug=ws;let Fg=class Xd{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ug.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Dg.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Xd(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Mg.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ya.default=Fg;var Kn=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const Zd=Kn(Ya);Te.PostgrestClient=Zd.default;const eh=Kn(gs);Te.PostgrestQueryBuilder=eh.default;const th=Kn(Gr);Te.PostgrestFilterBuilder=th.default;const nh=Kn(ms);Te.PostgrestTransformBuilder=nh.default;const rh=Kn(vs);Te.PostgrestBuilder=rh.default;const ih=Kn(ys);Te.PostgrestError=ih.default;var Bg=Te.default={PostgrestClient:Zd.default,PostgrestQueryBuilder:eh.default,PostgrestFilterBuilder:th.default,PostgrestTransformBuilder:nh.default,PostgrestBuilder:rh.default,PostgrestError:ih.default};const{PostgrestClient:Hg,PostgrestQueryBuilder:Zy,PostgrestFilterBuilder:e0,PostgrestTransformBuilder:t0,PostgrestBuilder:n0,PostgrestError:r0}=Bg,Wg="2.11.2",Vg={"X-Client-Info":`realtime-js/${Wg}`},Gg="1.0.0",sh=1e4,Jg=1e3;var $n;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($n||($n={}));var Ne;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ne||(Ne={}));var Xe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xe||(Xe={}));var Qo;(function(e){e.websocket="websocket"})(Qo||(Qo={}));var qt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qt||(qt={}));class Kg{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class oh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(V||(V={}));const gu=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=Qg(o,e,t,i),s),{})},Qg=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?ah(s,o):qo(o)},ah=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Zg(t,n)}switch(e){case V.bool:return qg(t);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Yg(t);case V.json:case V.jsonb:return Xg(t);case V.timestamp:return em(t);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return qo(t);default:return qo(t)}},qo=e=>e,qg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>ah(t,a))}return e},em=e=>typeof e=="string"?e.replace(" ","T"):e,lh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qs{constructor(t,n,r={},i=sh){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mu||(mu={}));class kr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=kr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const h=c.map(C=>C.presence_ref),w=d.map(C=>C.presence_ref),y=c.filter(C=>w.indexOf(C.presence_ref)<0),_=d.filter(C=>h.indexOf(C.presence_ref)<0);y.length>0&&(a[u]=y),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(w=>w.presence_ref),h=c.filter(w=>d.indexOf(w.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vu||(vu={}));var yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yu||(yu={}));var dt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class Xa{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qs(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new oh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new kr(this),this.broadcastEndpointURL=lh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(dt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(dt.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){t==null||t(dt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,w=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let _=0;_<w;_++){const C=h[_],{filter:{event:p,schema:f,table:g,filter:k}}=C,j=c&&c[_];if(j&&j.event===p&&j.schema===f&&j.table===g&&j.filter===k)y.push(Object.assign(Object.assign({},C),{id:j.id}));else{this.unsubscribe(),t==null||t(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(dt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Qs(this,Xe.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Qs(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Xe;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var y,_,C;return((y=w.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(_=w.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(w=>w.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(w=>{var y,_,C,p,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const k=w.id,j=(y=w.filter)===null||y===void 0?void 0:y.event;return k&&((_=n.ids)===null||_===void 0?void 0:_.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const k=(f=(p=w==null?void 0:w.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return k==="*"||k===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:_,table:C,commit_timestamp:p,type:f,errors:g}=y;h=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(y))}w.callback(h,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Xa.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xe.close,{},t)}_onError(t){this._on(Xe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gu(t.columns,t.old_record)),n}}const tm=()=>{},nm=typeof WebSocket<"u",rm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class im{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Vg,this.params={},this.timeout=sh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tm,this.conn=null,this.sendBuffer=[],this.serializer=new Kg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Bn(async()=>{const{default:l}=await Promise.resolve().then(()=>Jn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Qo.websocket}`,this.httpEndpoint=lh(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new oh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(nm){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sm(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Bn(async()=>{const{default:t}=await import("./browser-B9qnBwNZ.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gg}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return qt.Connecting;case $n.open:return qt.Open;case $n.closing:return qt.Closing;default:return qt.Closed}}isConnected(){return this.connectionState()===qt.Open}channel(t,n={config:{}}){const r=new Xa(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Xe.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Jg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class sm{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=$n.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Za extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class om extends Za{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yo extends Za{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var am=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const uh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bn(async()=>{const{default:r}=await Promise.resolve().then(()=>Jn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lm=()=>am(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bn(()=>Promise.resolve().then(()=>Jn),void 0)).Response:Response}),Xo=e=>{if(Array.isArray(e))return e.map(n=>Xo(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Xo(r)}),t};var cn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const qs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),um=(e,t,n)=>cn(void 0,void 0,void 0,function*(){const r=yield lm();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new om(qs(i),e.status||500))}).catch(i=>{t(new Yo(qs(i),i))}):t(new Yo(qs(e),e))}),cm=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Jr(e,t,n,r,i,s){return cn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,cm(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>um(l,a,r))})})}function Xi(e,t,n,r){return cn(this,void 0,void 0,function*(){return Jr(e,"GET",t,n,r)})}function Ct(e,t,n,r,i){return cn(this,void 0,void 0,function*(){return Jr(e,"POST",t,r,i,n)})}function dm(e,t,n,r,i){return cn(this,void 0,void 0,function*(){return Jr(e,"PUT",t,r,i,n)})}function hm(e,t,n,r){return cn(this,void 0,void 0,function*(){return Jr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ch(e,t,n,r,i){return cn(this,void 0,void 0,function*(){return Jr(e,"DELETE",t,r,i,n)})}var Ce=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const fm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pm{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=uh(i)}uploadOrUpdate(t,n,r,i){return Ce(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},wu),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ce(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:wu.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ct(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Za("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ct(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ce(this,void 0,void 0,function*(){try{const i=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}download(t,n){return Ce(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Xi(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}info(t){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Xi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xo(r),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}exists(t){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield hm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ce(r)&&r instanceof Yo){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ce(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fm),n),{prefix:t||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gm="2.7.1",mm={"X-Client-Info":`storage-js/${gm}`};var fn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class vm{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},mm),n),this.fetch=uh(r)}listBuckets(){return fn(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return fn(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return fn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return fn(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}emptyBucket(t){return fn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}deleteBucket(t){return fn(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}}class ym extends vm{constructor(t,n={},r){super(t,n,r)}from(t){return new pm(this.url,this.headers,t,this.fetch)}}const wm="2.48.0";let dr="";typeof Deno<"u"?dr="deno":typeof document<"u"?dr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dr="react-native":dr="node";const _m={"X-Client-Info":`supabase-js-${dr}/${wm}`},km={headers:_m},Sm={schema:"public"},Em={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xm={};var jm=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Cm=e=>{let t;return e?t=e:typeof fetch>"u"?t=Kd:t=fetch,(...n)=>t(...n)},Pm=()=>typeof Headers>"u"?Qd:Headers,Tm=(e,t,n)=>{const r=Cm(n),i=Pm();return(s,o)=>jm(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var bm=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Om(e){return e.replace(/\/$/,"")}function Lm(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>bm(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const dh="2.67.3",Rm="http://localhost:9999",Nm="supabase.auth.token",$m={"X-Client-Info":`gotrue-js/${dh}`},_u=10,Zo="X-Supabase-Api-Version",hh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Am(e){return Math.round(Date.now()/1e3)+e}function Im(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const st=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Sr=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function zm(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const fh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bn(async()=>{const{default:r}=await Promise.resolve().then(()=>Jn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Dm=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ph=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},di=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hi=async(e,t)=>{await e.removeItem(t)};function Mm(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class ks{constructor(){this.promise=new ks.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ks.promiseConstructor=Promise;function ku(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Mm(r))}async function Um(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Fm(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Bm(e){return("0"+e.toString(16)).substr(-2)}function Hm(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Bm).join("")}async function Wm(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Vm(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gm(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Wm(e);return Vm(n)}async function pn(e,t,n=!1){const r=Hm();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ph(e,`${t}-code-verifier`,i);const s=await Gm(r);return[s,r===s?"plain":"s256"]}const Jm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Km(e){const t=e.headers.get(Zo);if(!t||!t.match(Jm))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class el extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Qm extends el{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qm(e){return M(e)&&e.name==="AuthApiError"}class gh extends el{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class dn extends el{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class St extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ym(e){return M(e)&&e.name==="AuthSessionMissingError"}class Ys extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fi extends dn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pi extends dn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xm(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class Su extends dn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ea extends dn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xs(e){return M(e)&&e.name==="AuthRetryableFetchError"}class Eu extends dn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Zm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Qt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ev=[502,503,504];async function xu(e){var t;if(!Dm(e))throw new ea(Qt(e),0);if(ev.includes(e.status))throw new ea(Qt(e),e.status);let n;try{n=await e.json()}catch(s){throw new gh(Qt(s),s)}let r;const i=Km(e);if(i&&i.getTime()>=hh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Eu(Qt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Eu(Qt(n),e.status,n.weak_password.reasons);throw new Qm(Qt(n),e.status||500,r)}const tv=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function B(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Zo]||(s[Zo]=hh["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await nv(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function nv(e,t,n,r,i,s){const o=tv(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new ea(Qt(l),0)}if(a.ok||await xu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await xu(l)}}function Et(e){var t;let n=null;ov(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Am(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ju(e){const t=Et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rv(e){return{data:e,error:null}}function iv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Zm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function sv(e){return e}function ov(e){return e.access_token&&e.refresh_token&&e.expires_in}var av=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class lv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=fh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=av(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:sv});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);u[`${C}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:bt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:bt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}const uv={getItem:e=>Sr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Sr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Sr()&&globalThis.localStorage.removeItem(e)}};function Cu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function cv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gn={debug:!!(globalThis&&Sr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dv extends mh{}async function hv(e,t,n){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}cv();const fv={url:Rm,storageKey:Nm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$m,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},or=30*1e3,Pu=3;async function Tu(e,t,n){return await n()}class Ur{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ur.nextInstanceID,Ur.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},fv),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fh(i.fetch),this.lock=i.lock||Tu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:st()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hv:this.lock=Tu,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Sr()?this.storage=uv:(this.memoryStorage={},this.storage=Cu(this.memoryStorage)):(this.memoryStorage={},this.storage=Cu(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=zm(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),st()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Xm(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return M(n)?{error:n}:{error:new gh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Et}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:d,options:h}=t;let w=null,y=null;this.flowType==="pkce"&&([w,y]=await pn(this.storage,this.storageKey)),s=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:w,code_challenge_method:y},xform:Et})}else if("phone"in t){const{phone:c,password:d,options:h}=t;s=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Et})}else throw new fi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ju})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ju})}else throw new fi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ys}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await di(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Et});if(await hi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(M(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ys}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await pn(this.storage,this.storageKey));const{error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new fi("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await pn(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:rv})}catch(s){if(M(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new St;const{error:i}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new fi("You must provide either an email or phone number and a type")}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await di(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:bt})})}catch(n){if(M(n))return Ym(n)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new St;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await pn(this.storage,this.storageKey));const{data:u,error:c}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return ku(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new St;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=ku(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(M(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new St;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!st())throw new pi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Su("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Su("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new pi("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const w=h-c;w*1e3<=or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await di(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(qm(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Im(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pn(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(M(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:h}=s;if(h)throw h;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",w,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return st()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Fm(async i=>(i>0&&await Um(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Et})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Xs(s)&&Date.now()+o-r<or})}catch(r){if(this._debug(n,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),st()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await di(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+_u;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${_u}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Xs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ks;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new St;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),M(s)){const o={session:null,error:s};return Xs(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ph(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),or);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${or}ms, refresh threshold is ${Pu} ticks`),i<=Pu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await pn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ur.nextInstanceID=0;const pv=Ur;class gv extends pv{constructor(t){super(t)}}var mv=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class vv{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Om(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Sm,realtime:xm,auth:Object.assign(Object.assign({},Em),{storageKey:l}),global:km},c=Lm(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Tm(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Hg(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new wg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ym(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return mv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gv({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new im(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vh=(e,t,n)=>new vv(e,t,n);var yv={exports:{}};(function(e){var t=function(n){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(m,v,S){m[v]=S.value},o,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(m,v,S){return Object.defineProperty(m,v,{value:S,enumerable:!0,configurable:!0,writable:!0}),m[v]}try{d({},"")}catch{d=function(v,S,R){return v[S]=R}}function h(m,v,S,R){var N=v&&v.prototype instanceof g?v:g,z=Object.create(N.prototype),ie=new ne(R||[]);return s(z,"_invoke",{value:Je(m,S,ie)}),z}n.wrap=h;function w(m,v,S){try{return{type:"normal",arg:m.call(v,S)}}catch(R){return{type:"throw",arg:R}}}var y="suspendedStart",_="suspendedYield",C="executing",p="completed",f={};function g(){}function k(){}function j(){}var b={};d(b,l,function(){return this});var P=Object.getPrototypeOf,O=P&&P(P(re([])));O&&O!==r&&i.call(O,l)&&(b=O);var F=j.prototype=g.prototype=Object.create(b);k.prototype=j,s(F,"constructor",{value:j,configurable:!0}),s(j,"constructor",{value:k,configurable:!0}),k.displayName=d(j,c,"GeneratorFunction");function A(m){["next","throw","return"].forEach(function(v){d(m,v,function(S){return this._invoke(v,S)})})}n.isGeneratorFunction=function(m){var v=typeof m=="function"&&m.constructor;return v?v===k||(v.displayName||v.name)==="GeneratorFunction":!1},n.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,j):(m.__proto__=j,d(m,c,"GeneratorFunction")),m.prototype=Object.create(F),m},n.awrap=function(m){return{__await:m}};function ae(m,v){function S(z,ie,ee,fe){var je=w(m[z],m,ie);if(je.type==="throw")fe(je.arg);else{var Ss=je.arg,qn=Ss.value;return qn&&typeof qn=="object"&&i.call(qn,"__await")?v.resolve(qn.__await).then(function(Vt){S("next",Vt,ee,fe)},function(Vt){S("throw",Vt,ee,fe)}):v.resolve(qn).then(function(Vt){Ss.value=Vt,ee(Ss)},function(Vt){return S("throw",Vt,ee,fe)})}}var R;function N(z,ie){function ee(){return new v(function(fe,je){S(z,ie,fe,je)})}return R=R?R.then(ee,ee):ee()}s(this,"_invoke",{value:N})}A(ae.prototype),d(ae.prototype,u,function(){return this}),n.AsyncIterator=ae,n.async=function(m,v,S,R,N){N===void 0&&(N=Promise);var z=new ae(h(m,v,S,R),N);return n.isGeneratorFunction(v)?z:z.next().then(function(ie){return ie.done?ie.value:z.next()})};function Je(m,v,S){var R=y;return function(z,ie){if(R===C)throw new Error("Generator is already running");if(R===p){if(z==="throw")throw ie;return T()}for(S.method=z,S.arg=ie;;){var ee=S.delegate;if(ee){var fe=$(ee,S);if(fe){if(fe===f)continue;return fe}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(R===y)throw R=p,S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);R=C;var je=w(m,v,S);if(je.type==="normal"){if(R=S.done?p:_,je.arg===f)continue;return{value:je.arg,done:S.done}}else je.type==="throw"&&(R=p,S.method="throw",S.arg=je.arg)}}}function $(m,v){var S=v.method,R=m.iterator[S];if(R===o)return v.delegate=null,S==="throw"&&m.iterator.return&&(v.method="return",v.arg=o,$(m,v),v.method==="throw")||S!=="return"&&(v.method="throw",v.arg=new TypeError("The iterator does not provide a '"+S+"' method")),f;var N=w(R,m.iterator,v.arg);if(N.type==="throw")return v.method="throw",v.arg=N.arg,v.delegate=null,f;var z=N.arg;if(!z)return v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,f;if(z.done)v[m.resultName]=z.value,v.next=m.nextLoc,v.method!=="return"&&(v.method="next",v.arg=o);else return z;return v.delegate=null,f}A(F),d(F,c,"Generator"),d(F,l,function(){return this}),d(F,"toString",function(){return"[object Generator]"});function I(m){var v={tryLoc:m[0]};1 in m&&(v.catchLoc=m[1]),2 in m&&(v.finallyLoc=m[2],v.afterLoc=m[3]),this.tryEntries.push(v)}function Q(m){var v=m.completion||{};v.type="normal",delete v.arg,m.completion=v}function ne(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(I,this),this.reset(!0)}n.keys=function(m){var v=Object(m),S=[];for(var R in v)S.push(R);return S.reverse(),function N(){for(;S.length;){var z=S.pop();if(z in v)return N.value=z,N.done=!1,N}return N.done=!0,N}};function re(m){if(m){var v=m[l];if(v)return v.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var S=-1,R=function N(){for(;++S<m.length;)if(i.call(m,S))return N.value=m[S],N.done=!1,N;return N.value=o,N.done=!0,N};return R.next=R}}return{next:T}}n.values=re;function T(){return{value:o,done:!0}}return ne.prototype={constructor:ne,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Q),!m)for(var v in this)v.charAt(0)==="t"&&i.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=o)},stop:function(){this.done=!0;var m=this.tryEntries[0],v=m.completion;if(v.type==="throw")throw v.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var v=this;function S(fe,je){return z.type="throw",z.arg=m,v.next=fe,je&&(v.method="next",v.arg=o),!!je}for(var R=this.tryEntries.length-1;R>=0;--R){var N=this.tryEntries[R],z=N.completion;if(N.tryLoc==="root")return S("end");if(N.tryLoc<=this.prev){var ie=i.call(N,"catchLoc"),ee=i.call(N,"finallyLoc");if(ie&&ee){if(this.prev<N.catchLoc)return S(N.catchLoc,!0);if(this.prev<N.finallyLoc)return S(N.finallyLoc)}else if(ie){if(this.prev<N.catchLoc)return S(N.catchLoc,!0)}else if(ee){if(this.prev<N.finallyLoc)return S(N.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(m,v){for(var S=this.tryEntries.length-1;S>=0;--S){var R=this.tryEntries[S];if(R.tryLoc<=this.prev&&i.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var N=R;break}}N&&(m==="break"||m==="continue")&&N.tryLoc<=v&&v<=N.finallyLoc&&(N=null);var z=N?N.completion:{};return z.type=m,z.arg=v,N?(this.method="next",this.next=N.finallyLoc,f):this.complete(z)},complete:function(m,v){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&v&&(this.next=v),f},finish:function(m){for(var v=this.tryEntries.length-1;v>=0;--v){var S=this.tryEntries[v];if(S.finallyLoc===m)return this.complete(S.completion,S.afterLoc),Q(S),f}},catch:function(m){for(var v=this.tryEntries.length-1;v>=0;--v){var S=this.tryEntries[v];if(S.tryLoc===m){var R=S.completion;if(R.type==="throw"){var N=R.arg;Q(S)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(m,v,S){return this.delegate={iterator:re(m),resultName:v,nextLoc:S},this.method==="next"&&(this.arg=o),f}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(yv);var tl=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const wv=tl;let bu=0;var yh=({id:e,action:t,payload:n={}})=>{let r=e;return typeof r>"u"&&(r=wv("Job",bu),bu+=1),{id:r,action:t,payload:n}},Qn={};let nl=!1;Qn.logging=nl;Qn.setLogging=e=>{nl=e};Qn.log=(...e)=>nl?console.log.apply(void 0,e):null;const _v=yh,{log:gi}=Qn,kv=tl;let Ou=0;var Sv=()=>{const e=kv("Scheduler",Ou),t={},n={};let r=[];Ou+=1;const i=()=>r.length,s=()=>Object.keys(t).length,o=()=>{if(r.length!==0){const d=Object.keys(t);for(let h=0;h<d.length;h+=1)if(typeof n[d[h]]>"u"){r[0](t[d[h]]);break}}},a=(d,h)=>new Promise((w,y)=>{const _=_v({action:d,payload:h});r.push(async C=>{r.shift(),n[C.id]=_;try{w(await C[d].apply(void 0,[...h,_.id]))}catch(p){y(p)}finally{delete n[C.id],o()}}),gi(`[${e}]: Add ${_.id} to JobQueue`),gi(`[${e}]: JobQueue length=${r.length}`),o()});return{addWorker:d=>(t[d.id]=d,gi(`[${e}]: Add ${d.id}`),gi(`[${e}]: Number of workers=${s()}`),o(),d.id),addJob:async(d,...h)=>{if(s()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return a(d,h)},terminate:async()=>{Object.keys(t).forEach(async d=>{await t[d].terminate()}),r=[]},getQueueLen:i,getNumWorkers:s}};function Ev(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function xv(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var jv=xv;const Cv=jv;var Pv=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":Cv()?t.type="electron":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Ev=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const Tv=Pv("type")==="browser",bv=Tv?e=>new URL(e,window.location.href).href:e=>e;var Ov=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=bv(t[n]))}),t},Lv=e=>{const t=[],n=[],r=[],i=[],s=[];return e.blocks&&e.blocks.forEach(o=>{o.paragraphs.forEach(a=>{a.lines.forEach(l=>{l.words.forEach(u=>{u.symbols.forEach(c=>{s.push({...c,page:e,block:o,paragraph:a,line:l,word:u})}),i.push({...u,page:e,block:o,paragraph:a,line:l})}),r.push({...l,page:e,block:o,paragraph:a})}),n.push({...a,page:e,block:o})}),t.push({...o,page:e})}),{...e,blocks:t,paragraphs:n,lines:r,words:i,symbols:s}},wh={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Rv=wh;var Nv={defaultOEM:Rv.DEFAULT};const $v="tesseract.js",Av="4.1.4",Iv="Pure Javascript Multilingual OCR",zv="src/index.js",Dv="src/index.d.ts",Mv="dist/tesseract.min.js",Uv="dist/tesseract.min.js",Fv={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},Bv={"./src/worker/node/index.js":"./src/worker/browser/index.js"},Hv="",Wv=["jeromewu"],Vv="Apache-2.0",Gv={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},Jv={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^4.0.4","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},Kv={"@rollup/pluginutils":"^5.0.2"},Qv={type:"git",url:"https://github.com/naptha/tesseract.js.git"},qv={url:"https://github.com/naptha/tesseract.js/issues"},Yv="https://github.com/naptha/tesseract.js",Xv={type:"opencollective",url:"https://opencollective.com/tesseractjs"},Zv={name:$v,version:Av,description:Iv,main:zv,types:Dv,unpkg:Mv,jsdelivr:Uv,scripts:Fv,browser:Bv,author:Hv,contributors:Wv,license:Vv,devDependencies:Gv,dependencies:Jv,overrides:Kv,repository:Qv,bugs:qv,homepage:Yv,collective:Xv};var ey={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}},ty={};const ny=e=>new URL(e,window.location.href).href,{version:ry}=Zv,iy=ey;var sy={...iy,workerPath:typeof process<"u"&&ty.TESS_ENV==="development"?ny(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://cdn.jsdelivr.net/npm/tesseract.js@v${ry}/dist/worker.min.js`,corePath:null},oy=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const r=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(e);return n},ay=e=>{e.terminate()},ly=(e,t)=>{e.onmessage=({data:n})=>{t(n)}},uy=async(e,t)=>{e.postMessage(t)};const Zs=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:i}}})=>{n(Error(`File could not be read! Code=${i}`))},r.readAsArrayBuffer(e)}),ta=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await ta(e.src)),e.tagName==="VIDEO"&&(t=await ta(e.poster)),e.tagName==="CANVAS"&&await new Promise(n=>{e.toBlob(async r=>{t=await Zs(r),n()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();t=await Zs(n)}else(e instanceof File||e instanceof Blob)&&(t=await Zs(e));return new Uint8Array(t)};var cy=ta;const dy=sy,hy=oy,fy=ay,py=ly,gy=uy,my=cy;var vy={defaultOptions:dy,spawnWorker:hy,terminateWorker:fy,onMessage:py,send:gy,loadImage:my};const yy=Ov,wy=Lv,Qe=yh,{log:Lu}=Qn,_y=tl,{defaultOEM:ky}=Nv,{defaultOptions:Sy,spawnWorker:Ey,terminateWorker:xy,onMessage:jy,loadImage:Ru,send:Cy}=vy;let Nu=0;var _h=async(e={})=>{const t=_y("Worker",Nu),{logger:n,errorHandler:r,...i}=yy({...Sy,...e}),s={},o={};let a,l;const u=new Promise(($,I)=>{l=$,a=I}),c=$=>{a($.message)};let d=Ey(i);d.onerror=c,Nu+=1;const h=($,I)=>{s[$]=I},w=($,I)=>{o[$]=I},y=({id:$,action:I,payload:Q})=>new Promise((ne,re)=>{Lu(`[${t}]: Start ${$}, action=${I}`),h(I,ne),w(I,re),Cy(d,{workerId:t,jobId:$,action:I,payload:Q})}),_=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),C=$=>y(Qe({id:$,action:"load",payload:{options:i}})),p=($,I,Q)=>y(Qe({id:Q,action:"FS",payload:{method:"writeFile",args:[$,I]}})),f=($,I)=>y(Qe({id:I,action:"FS",payload:{method:"readFile",args:[$,{encoding:"utf8"}]}})),g=($,I)=>y(Qe({id:I,action:"FS",payload:{method:"unlink",args:[$]}})),k=($,I,Q)=>y(Qe({id:Q,action:"FS",payload:{method:$,args:I}})),j=($="eng",I)=>y(Qe({id:I,action:"loadLanguage",payload:{langs:$,options:i}})),b=($="eng",I=ky,Q,ne)=>y(Qe({id:ne,action:"initialize",payload:{langs:$,oem:I,config:Q}})),P=($={},I)=>y(Qe({id:I,action:"setParameters",payload:{params:$}})),O=async($,I={},Q={blocks:!0,text:!0,hocr:!0,tsv:!0},ne)=>y(Qe({id:ne,action:"recognize",payload:{image:await Ru($),options:I,output:Q}})),F=($="Tesseract OCR Result",I=!1,Q)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),y(Qe({id:Q,action:"getPDF",payload:{title:$,textonly:I}}))),A=async($,I)=>y(Qe({id:I,action:"detect",payload:{image:await Ru($)}})),ae=async()=>(d!==null&&(xy(d),d=null),Promise.resolve());jy(d,({workerId:$,jobId:I,status:Q,action:ne,data:re})=>{if(Q==="resolve"){Lu(`[${$}]: Complete ${I}`);let T=re;ne==="recognize"?T=wy(re):ne==="getPDF"&&(T=Array.from({...re,length:Object.keys(re).length})),s[ne]({jobId:I,data:T})}else if(Q==="reject")if(o[ne](re),ne==="load"&&a(re),r)r(re);else throw Error(re);else Q==="progress"&&n({...re,userJobId:I})});const Je={id:t,worker:d,setResolve:h,setReject:w,load:_,writeText:p,readText:f,removeFile:g,FS:k,loadLanguage:j,initialize:b,setParameters:P,recognize:O,getPDF:F,detect:A,terminate:ae};return C().then(()=>l(Je)).catch(()=>{}),u};const kh=_h,Py=async(e,t,n)=>{const r=await kh(n);return await r.loadLanguage(t),await r.initialize(t),r.recognize(e).finally(async()=>{await r.terminate()})},Ty=async(e,t)=>{const n=await kh(t);return await n.loadLanguage("osd"),await n.initialize("osd"),n.detect(e).finally(async()=>{await n.terminate()})};var by={recognize:Py,detect:Ty},Oy={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Ly={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Ry=Sv,Ny=_h,$y=by,Ay=Oy,Iy=wh,zy=Ly,{setLogging:Dy}=Qn;var My={languages:Ay,OEM:Iy,PSM:zy,createScheduler:Ry,createWorker:Ny,setLogging:Dy,...$y};const Uy=vh("https://dmsphhfirmbdruvbsham.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRtc3BoaGZpcm1iZHJ1dmJzaGFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2Mzg5NzMsImV4cCI6MjA1MzIxNDk3M30.JSuQ3UvaiOE2ti0Q-Xbi_yfJKDWHORuvY-anK42OQZA"),Sh=void 0,Fy=`https://vision.googleapis.com/v1/images:annotate?key=${Sh}`;function By({onPoemScanned:e,currentLanguage:t}){const[n,r]=D.useState(!1),[i,s]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState(""),[c,d]=D.useState(""),[h,w]=D.useState(""),[y,_]=D.useState(!1),[C,p]=D.useState(null),[f,g]=D.useState(null),[k,j]=D.useState(!1),b=D.useRef(null),P=D.useRef(null),O=D.useRef(null),F=m=>({dutch:"nl",german:"de",greek:"el",russian:"ru",italian:"it"})[m],A=m=>({dutch:"nld",german:"deu",greek:"ell",russian:"rus",italian:"ita"})[m],ae=async m=>{var R,N,z;const v=await fetch(Fy,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:m.split(",")[1]},features:[{type:"TEXT_DETECTION",model:"builtin/latest"}],imageContext:{languageHints:[F(t)]}}]})}),S=await v.json();if(!v.ok)throw new Error(((R=S.error)==null?void 0:R.message)||"Error processing image with Google Cloud Vision");return((z=(N=S.responses[0])==null?void 0:N.fullTextAnnotation)==null?void 0:z.text)||""},Je=async m=>{const v=await My.createWorker();await v.loadLanguage(A(t)),await v.initialize(A(t)),await v.setParameters({tessedit_pageseg_mode:"6",preserve_interword_spaces:"1",tessedit_char_whitelist:`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZäöüßÄÖÜ.,!?-:;'"()`});const S=URL.createObjectURL(m),{data:{text:R}}=await v.recognize(S);return URL.revokeObjectURL(S),await v.terminate(),R},$=async m=>{r(!0),g(null);try{let v;Sh||(v=await Je(m));const S=v.replace(/\n{3,}/g,`

`).replace(/[^\S\n]+/g," ").trim();s(S)}catch(v){console.error("Error processing image:",v),g("Error processing image. Please ensure the text is clear and well-lit.")}finally{r(!1)}},I=async()=>{try{g(null);const m=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:2048},height:{ideal:1536}}});p(m),_(!0)}catch(m){console.error("Error accessing camera:",m),g("Could not access camera. Please check permissions or try uploading an image instead.")}};D.useEffect(()=>{b.current&&C&&(b.current.srcObject=C,b.current.play().catch(m=>{console.error("Error playing video:",m),g("Error starting video preview. Please try again.")}))},[C]),D.useEffect(()=>()=>{C&&C.getTracks().forEach(m=>m.stop())},[C]);const Q=D.useCallback(()=>{C&&(C.getTracks().forEach(m=>m.stop()),p(null)),_(!1),g(null)},[C]),ne=async()=>{if(!(!b.current||!P.current)){g(null);try{const m=b.current,v=P.current,S=v.getContext("2d");if(!S)throw new Error("Could not get canvas context");v.width=m.videoWidth,v.height=m.videoHeight,S.drawImage(m,0,0);const R=await new Promise((N,z)=>{v.toBlob(ie=>{ie?N(ie):z(new Error("Failed to create image blob"))},"image/jpeg",.95)});await $(R),Q()}catch(m){console.error("Error capturing image:",m),g("Error capturing image. Please try again.")}}},re=async m=>{var S;const v=(S=m.target.files)==null?void 0:S[0];if(v){if(g(null),!v.type.startsWith("image/")){g("Please select an image file.");return}if(v.size>10*1024*1024){g("Image file is too large. Please select an image under 10MB.");return}await $(v)}},T=async()=>{if(!o||!l||!i){g("Please fill in the title, author, and ensure there is scanned text.");return}try{j(!0),g(null);const{data:m,error:v}=await Uy.from("poems").insert({title:o,author:l,content:i,year:c||null,collection:h||null,language:t,external_id:`scanned_${Date.now()}`}).select().single();if(v)throw v;s(""),a(""),u(""),d(""),w(""),e(),alert("Poem saved successfully!")}catch(m){console.error("Error saving poem:",m),g("Error saving poem. Please try again.")}finally{j(!1)}};return E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f&&E.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:E.jsx("p",{className:"text-red-600",children:f})}),y?E.jsx("div",{className:"space-y-4",children:E.jsxs("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:[E.jsx("video",{ref:b,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),E.jsx("canvas",{ref:P,className:"hidden"}),E.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:[E.jsx("button",{onClick:ne,className:"p-4 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors",title:"Take photo",children:E.jsx(Jo,{className:"w-6 h-6"})}),E.jsx("button",{onClick:Q,className:"p-4 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",title:"Cancel",children:E.jsx(fu,{className:"w-6 h-6"})})]})]})}):E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:I,className:"flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[E.jsx(Jo,{className:"mr-2"}),"Take Photo"]}),E.jsxs("button",{onClick:()=>{var m;return(m=O.current)==null?void 0:m.click()},className:"flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[E.jsx(lg,{className:"mr-2"}),"Upload Image"]})]}),E.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:re,className:"hidden"}),E.jsxs("p",{className:"text-sm text-gray-600",children:["Using ","Tesseract.js"," for OCR"]})]}),n&&E.jsxs("div",{className:"flex items-center justify-center py-8",children:[E.jsx(hu,{className:"w-8 h-8 animate-spin text-indigo-600"}),E.jsx("span",{className:"ml-2 text-gray-600",children:"Processing image..."})]}),i&&E.jsxs("div",{className:"space-y-4 mt-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),E.jsx("input",{type:"text",value:o,onChange:m=>a(m.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Author *"}),E.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),E.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection"}),E.jsx("input",{type:"text",value:h,onChange:m=>w(m.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scanned Text *"}),E.jsx("textarea",{value:i,onChange:m=>s(m.target.value),rows:6,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 font-mono",required:!0})]}),E.jsxs("div",{className:"flex space-x-4",children:[E.jsxs("button",{onClick:T,disabled:!o||!l||!i||k,className:"flex-1 flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[k?E.jsx(hu,{className:"w-5 h-5 animate-spin mr-2"}):E.jsx(ig,{className:"mr-2"}),k?"Saving...":"Save Poem"]}),E.jsxs("button",{onClick:()=>{s(""),a(""),u(""),d(""),w(""),g(null)},className:"flex-1 flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",disabled:k,children:[E.jsx(fu,{className:"mr-2"}),"Cancel"]})]})]})]})}const Hy=[{id:"dutch-children-1",title:"De Maan",author:"Annie M.G. Schmidt",year:"1950",content:`Daar komt de maan

En hij heeft een gouden pet op

Hij is de baas van de nacht

En hij lacht maar wat

Dag maan, dag maan

Met je gouden pet op`,translations:{maan:"moon",gouden:"golden",pet:"cap",baas:"boss",nacht:"night",lacht:"laughs",dag:"hello/goodbye"},language:"dutch"},{id:"dutch-children-2",title:"Het Lieveheersbeestje",author:"Traditional",content:`Lieveheersbeestje, vlieg weg

Vlieg naar de hemel blauw

Vlieg naar de zon zo geel

En kom weer gauw`,translations:{Lieveheersbeestje:"ladybug",vlieg:"fly",weg:"away",hemel:"heaven/sky",blauw:"blue",zon:"sun",geel:"yellow",kom:"come",weer:"again",gauw:"soon"},language:"dutch"},{id:"dutch-children-3",title:"De Spin Sebastiaan",author:"Annie M.G. Schmidt",year:"1952",content:`Sebastiaan, Sebastiaan,

Die had nog nooit een web gedaan.

Hij dacht: Dat trekt zich vanzelf wel aan.

Kijk, zei de spin Sebastiaan,

Dat hoeft niet zo precies te gaan.`,translations:{spin:"spider",nog:"yet",nooit:"never",web:"web",gedaan:"done",dacht:"thought",trekt:"pulls",vanzelf:"by itself",aan:"on",kijk:"look",hoeft:"needs",niet:"not",precies:"precise",gaan:"go"},language:"dutch"},{id:"dutch-children-4",title:"Tien Kleine Visjes",author:"Traditional",content:`Tien kleine visjes die zwommen in de zee.

Toen kwam de haai voorbij... toen waren er nog maar negen.

Negen kleine visjes die zwommen in de zee.

Toen kwam de haai voorbij... toen waren er nog maar acht.`,translations:{Tien:"ten",kleine:"little",visjes:"fish",zwommen:"swam",zee:"sea",kwam:"came",haai:"shark",voorbij:"past",waren:"were",nog:"still",maar:"only",negen:"nine",acht:"eight"},language:"dutch"},{id:"dutch-children-5",title:"In De Maneschijn",author:"Traditional",content:`In de maneschijn, in de maneschijn,

Klom ik op een trapje door het raamkozijn.

Maar je raadt het niet, maar je raadt het niet,

Zo doet een vogel en zo doet een vis.`,translations:{maneschijn:"moonshine",klom:"climbed",trapje:"little ladder",raamkozijn:"window frame",raadt:"guess",vogel:"bird",vis:"fish"},language:"dutch"},{id:"russian-children-1",title:"Мишка",author:"Агния Барто",year:"1936",content:`Уронили мишку на пол,

Оторвали мишке лапу.

Всё равно его не брошу -

Потому что он хороший.`,translations:{Уронили:"dropped",мишку:"teddy bear",пол:"floor",Оторвали:"tore off",лапу:"paw",Всё:"all",равно:"same",брошу:"will throw away",Потому:"because",хороший:"good"},language:"russian"},{id:"russian-children-2",title:"Зайка",author:"Агния Барто",content:`Зайку бросила хозяйка -

Под дождем остался зайка.

Со скамейки слезть не мог,

Весь до ниточки промок.`,translations:{Зайку:"bunny",бросила:"abandoned",хозяйка:"owner",дождем:"rain",остался:"remained",скамейки:"bench",слезть:"climb down",мог:"could",Весь:"completely",ниточки:"thread",промок:"got wet"},language:"russian"},{id:"russian-children-3",title:"Наша Таня",author:"Агния Барто",content:`Наша Таня громко плачет:

Уронила в речку мячик.

- Тише, Танечка, не плачь:

Не утонет в речке мяч.`,translations:{Наша:"our",громко:"loudly",плачет:"cries",Уронила:"dropped",речку:"river",мячик:"ball",Тише:"quieter",утонет:"will drown",мяч:"ball"},language:"russian"},{id:"russian-children-4",title:"Бычок",author:"Агния Барто",content:`Идет бычок, качается,

Вздыхает на ходу:

- Ох, доска кончается,

Сейчас я упаду!`,translations:{Идет:"walks",бычок:"little bull",качается:"sways",Вздыхает:"sighs",ходу:"way",доска:"board",кончается:"ends",Сейчас:"now",упаду:"will fall"},language:"russian"},{id:"russian-children-5",title:"Снег",author:"Ирина Токмакова",content:`Как на горке - снег, снег,

И под горкой - снег, снег,

И на елке - снег, снег,

И под елкой - снег, снег.`,translations:{горке:"hill",снег:"snow",под:"under",елке:"fir tree",елкой:"fir tree"},language:"russian"},{id:"italian-children-1",title:"La Farfallina",author:"Traditional",content:`Farfallina bella e bianca

vola vola mai si stanca

gira qua e gira là

poi si ferma sopra un fior`,translations:{Farfallina:"little butterfly",bella:"beautiful",bianca:"white",vola:"flies",mai:"never",stanca:"tired",gira:"turns",qua:"here",là:"there",ferma:"stops",sopra:"on",fior:"flower"},language:"italian"},{id:"italian-children-2",title:"La Pioggia",author:"Traditional",content:`Piove piove

la gatta non si muove

la fiamma traballa

la mucca è nella stalla`,translations:{Piove:"it rains",gatta:"cat",non:"not",muove:"moves",fiamma:"flame",traballa:"wobbles",mucca:"cow",nella:"in the",stalla:"stable"},language:"italian"},{id:"italian-children-3",title:"L'Arcobaleno",author:"Gianni Rodari",content:`Dopo la pioggia viene il sereno

brilla in cielo l'arcobaleno

è come un ponte imbandierato

e il sole ci passa festeggiato`,translations:{Dopo:"after",pioggia:"rain",viene:"comes",sereno:"clear sky",brilla:"shines",cielo:"sky",arcobaleno:"rainbow",ponte:"bridge",imbandierato:"decorated with flags",sole:"sun",passa:"passes",festeggiato:"celebrated"},language:"italian"},{id:"italian-children-4",title:"Il Gatto",author:"Traditional",content:`C'è un gatto nel cortile

che dorme tutto il dì

si sveglia verso sera

e va a caccia così`,translations:{gatto:"cat",cortile:"courtyard",dorme:"sleeps",tutto:"all",dì:"day",sveglia:"wakes up",verso:"towards",sera:"evening",caccia:"hunting",così:"like this"},language:"italian"},{id:"italian-children-5",title:"La Luna",author:"Traditional",content:`Luna lunetta

faccia tonda e bella

illumina la terra

e tutta la sera`,translations:{Luna:"moon",lunetta:"little moon",faccia:"face",tonda:"round",bella:"beautiful",illumina:"illuminates",terra:"earth",tutta:"all",sera:"evening"},language:"italian"},{id:"spanish-children-1",title:"La Plaza Tiene Una Torre",author:"Antonio Machado",content:`La plaza tiene una torre,

la torre tiene un balcón,

el balcón tiene una dama,

la dama una blanca flor.`,translations:{plaza:"square",tiene:"has",torre:"tower",balcón:"balcony",dama:"lady",blanca:"white",flor:"flower"},language:"spanish"},{id:"spanish-children-2",title:"El Lagarto Está Llorando",author:"Federico García Lorca",content:`El lagarto está llorando.

El lagarto y la lagarta

con delantalitos blancos.

Han perdido sin querer

su anillo de desposados.`,translations:{lagarto:"lizard",está:"is",llorando:"crying",lagarta:"female lizard",delantalitos:"little aprons",blancos:"white",perdido:"lost",querer:"wanting",anillo:"ring",desposados:"married"},language:"spanish"},{id:"spanish-children-3",title:"La Hormiguita",author:"Traditional",content:`Una hormiguita chiquita

salió a pasear un día,

encontró una monedita

y un lazo se compraría.`,translations:{hormiguita:"little ant",chiquita:"tiny",salió:"went out",pasear:"to walk",día:"day",encontró:"found",monedita:"little coin",lazo:"bow",compraría:"would buy"},language:"spanish"},{id:"spanish-children-4",title:"La Luna",author:"Traditional",content:`Luna lunera,

cascabelera,

dime dónde vas

tan de mañana.`,translations:{Luna:"moon",lunera:"moony",cascabelera:"jingling",dime:"tell me",dónde:"where",vas:"are you going",mañana:"morning"},language:"spanish"},{id:"spanish-children-5",title:"El Caracol",author:"Traditional",content:`Caracol, col, col,

saca tus cuernos al sol,

que tu padre y tu madre

ya los sacó.`,translations:{Caracol:"snail",saca:"take out",cuernos:"horns",sol:"sun",padre:"father",madre:"mother",sacó:"took out"},language:"spanish"},{id:"neruda-septiembre-8",title:"Septiembre 8",author:"Pablo Neruda",year:"1904",collection:"Cien sonetos de amor",content:`Ya eres mía. Reposa con tu sueño en mi sueño.

Amor, dolor, trabajos, deben dormir ahora.

Gira la noche sobre sus invisibles ruedas

y junto a mí eres pura como el ámbar dormido.`,translations:{eres:"are",mía:"mine",Reposa:"rest",sueño:"dream",Amor:"love",dolor:"pain",trabajos:"works",deben:"must",dormir:"sleep",ahora:"now",Gira:"turns",noche:"night",sobre:"over",invisibles:"invisible",ruedas:"wheels",junto:"next to",pura:"pure",como:"like",ámbar:"amber",dormido:"asleep"},language:"spanish"},{id:"neruda-oda-al-limon",title:"Oda al Limón",author:"Pablo Neruda",year:"1954",collection:"Odas elementales",content:`De todos los tesoros

amarillos

el limón

es el más concentrado,

la copa delicada

del ácido sol de la tierra.`,translations:{todos:"all",tesoros:"treasures",amarillos:"yellow",limón:"lemon",más:"most",concentrado:"concentrated",copa:"cup",delicada:"delicate",ácido:"acid",sol:"sun",tierra:"earth"},language:"spanish"},{id:"neruda-soneto-xvii",title:"Soneto XVII",author:"Pablo Neruda",year:"1959",collection:"Cien sonetos de amor",content:`No te amo como si fueras rosa de sal, topacio

o flecha de claveles que propagan el fuego:

te amo como se aman ciertas cosas oscuras,

secretamente, entre la sombra y el alma.`,translations:{amo:"love",como:"as/like",fueras:"were",rosa:"rose",sal:"salt",topacio:"topaz",flecha:"arrow",claveles:"carnations",propagan:"propagate",fuego:"fire",ciertas:"certain",cosas:"things",oscuras:"dark",secretamente:"secretly",entre:"between",sombra:"shadow",alma:"soul"},language:"spanish"}],Wy=[{id:"vondel-gijsbrecht",title:"Gijsbrecht van Aemstel (Opening)",author:"Joost van den Vondel",year:"1637",collection:"Gijsbrecht van Aemstel",content:`HEt hemelsche gerecht heeft zich ten lange leste

Ontferremt over my, en mijn benaeude veste,

En arme burgery; en, op mijn volx gebedt,

En dagelijx geschrey, de bange stadt ontzet.
`,translations:{hemelsche:"heavenly",gerecht:"justice",zich:"itself",ten:"at",lange:"long",leste:"last",Ontferremt:"taken pity",over:"over",benaeude:"distressed",veste:"fortress",arme:"poor",burgery:"citizens",volx:"people's",gebedt:"prayer",dagelijx:"daily",geschrey:"crying",bange:"anxious",stadt:"city",ontzet:"relieved"},language:"dutch"},{id:"hooft-klare",title:"Klare, wat heeft er uw hartje verlept",author:"P.C. Hooft",year:"1610",collection:"Gedichten",content:`Klare, wat heeft er uw hartje verlept,

Dat het de minnelijke vreugde schept

In een stil eenzaam leven?

Wildy den zoeten tijd,

Die 't al verblijdt,

Vruchteloos begeven?
`,translations:{Klare:"Clara",wat:"what",heeft:"has",hartje:"little heart",verlept:"wilted",minnelijke:"lovely",vreugde:"joy",schept:"creates",stil:"quiet",eenzaam:"lonely",leven:"life",Wildy:"Will you",zoeten:"sweet",tijd:"time",verblijdt:"delights",Vruchteloos:"fruitlessly",begeven:"abandon"},language:"dutch"},{id:"bredero-liedt",title:"Een Liedt",author:"G.A. Bredero",year:"1622",collection:"Groot Lied-boeck",content:`Wat dat de wereld is,

Dat weet ick al te wis,

Door mijn verdriet:

't Is een schijn die bedrieght,

't Is een droom die vlieght,

't Is niet.
`,translations:{Wat:"What",wereld:"world",weet:"know",al:"all",wis:"certain",Door:"Through",verdriet:"sorrow",schijn:"appearance",bedrieght:"deceives",droom:"dream",vlieght:"flies",niet:"nothing"},language:"dutch"},{id:"perk-iris",title:"Iris",author:"Jacques Perk",year:"1881",collection:"Gedichten",content:`Ik ben geboren uit zonnegloren

En een vochtige zucht van de zee,

Die opgaat in tintelend gloren

Van parels en vonken gedwee.
`,translations:{geboren:"born",uit:"from",zonnegloren:"sun's glory",vochtige:"moist",zucht:"sigh",zee:"sea",opgaat:"rises",tintelend:"sparkling",gloren:"glow",parels:"pearls",vonken:"sparks",gedwee:"docile"},language:"dutch"},{id:"kloos-zee",title:"De zee, de zee klotst voort in eindeloze deining",author:"Willem Kloos",year:"1894",collection:"Verzen",content:`De zee, de zee klotst voort in eindeloze deining,

De zee, waarin mijn ziel zich-zelf weerspiegeld ziet;

De zee is als mijn ziel in wezen en verschijning,

Zij is een levend schijn en durende verdwijning,
`,translations:{zee:"sea",klotst:"sloshes",voort:"forth",eindeloze:"endless",deining:"swell",waarin:"wherein",ziel:"soul","zich-zelf":"itself",weerspiegeld:"reflected",ziet:"sees",wezen:"being",verschijning:"appearance",levend:"living",schijn:"semblance",durende:"lasting",verdwijning:"disappearance"},language:"dutch"},{id:"achterberg-sneeuwwitje",title:"Sneeuwwitje",author:"Gerrit Achterberg",year:"1949",collection:"Hoonte",content:`Sneeuwwitje, het wordt tijd dat je ontwaakt.

De prins heeft zich al in het bos begeven.

De dwergen zijn naar hun werk vertrokken.

De vogels hebben je gebed gestaakt.
`,translations:{Sneeuwwitje:"Snow White",wordt:"becomes",tijd:"time",ontwaakt:"awakens",prins:"prince",heeft:"has",zich:"himself",bos:"forest",begeven:"entered",dwergen:"dwarfs",naar:"to",werk:"work",vertrokken:"departed",vogels:"birds",gebed:"prayer",gestaakt:"ceased"},language:"dutch"},{id:"herinnering-aan-holland",title:"Herinnering aan Holland",author:"Hendrik Marsman",year:"1936",collection:"Verzamelde Gedichten",content:`Denkend aan Holland

zie ik brede rivieren

traag door oneindig

laagland gaan
`,translations:{Denkend:"Thinking",brede:"wide",rivieren:"rivers",traag:"slow",door:"through",oneindig:"endless",laagland:"lowland",gaan:"go"},language:"dutch"},{id:"cats-twee-verkracht",title:"Twee verkracht",author:"Jacob Cats",year:"1618",collection:"Sinne- en Minnebeelden",content:`Twee tortsen even schoon, van even lanck geschoven,

Die worden even veel door haren brant verdooft;

Twee herten even groot, van even hooch geboren,

Die worden even veel door soete min bekoort.
`,translations:{tortsen:"torches",even:"equally",schoon:"beautiful",lanck:"long",geschoven:"pushed",worden:"become",brant:"fire",verdooft:"dimmed",herten:"hearts",groot:"great",hooch:"high",geboren:"born",soete:"sweet",min:"love",bekoort:"enchanted"},language:"dutch"},{id:"dullaert-christus",title:"Op de Geboorte van Christus",author:"Heiman Dullaert",year:"1658",collection:"Gedichten",content:`O Heiligh, heiligh Kind, dat in de kribbe leidt,

En met uw needrigheit ons tot uw hoogheit leidt,

Wat zyt gy arm en kleen om ons te maecken groot!

Wat lijdt gy bitter kouw in uwen eersten noot!
`,translations:{Heiligh:"Holy",Kind:"Child",kribbe:"manger",leidt:"lies",needrigheit:"humility",hoogheit:"highness",zyt:"are",arm:"poor",kleen:"small",maecken:"make",groot:"great",lijdt:"suffer",bitter:"bitter",kouw:"cold",eersten:"first",noot:"need"},language:"dutch"},{id:"luyken-jezus",title:"Jezus en de Ziel",author:"Jan Luyken",year:"1678",collection:"Jesus en de Ziel",content:`O Jezus, bron van zaligheid,

Die 't harte door uw gunst verblijdt,

Wanneer het zich tot U wil geven,

Om als een bloempje van uw hof,

Te bloeien tot uws naams lof,

En door uw zegen te herleven.
`,translations:{bron:"source",zaligheid:"salvation",harte:"heart",gunst:"favor",verblijdt:"delights",zich:"itself",bloempje:"little flower",hof:"garden",bloeien:"bloom",naams:"name's",lof:"praise",zegen:"blessing",herleven:"revive"},language:"dutch"},{id:"camphuysen-maysche",title:"Maysche Morgenstond",author:"Dirck Raphaelsz Camphuysen",year:"1624",collection:"Stichtelycke Rymen",content:`De morgenstont verschynt met rozen op de wangen,

De dauw besproeit het gras.
`,translations:{morgenstont:"morning",verschynt:"appears",rozen:"roses",wangen:"cheeks",dauw:"dew",besproeit:"sprinkles",gras:"grass"},language:"dutch"},{id:"starter-dartelavond",title:"Dartel Avond-Deuntje",author:"Jan Jansz Starter",year:"1621",collection:"Friesche Lusthof",content:`Wanneer de Son zijn Peerden ment,

En daelt beneen den Horizont,

Dan wort het vrolijk spel bekent,

Dan gaet de vreugd eerst in de rondt.
`,translations:{Wanneer:"When",Son:"Sun",Peerden:"Horses",ment:"drives",daelt:"descends",beneen:"below",Horizont:"Horizon",wort:"becomes",vrolijk:"merry",spel:"game",bekent:"known",gaet:"goes",vreugd:"joy",eerst:"first",rondt:"round"},language:"dutch"},{id:"revius-hij-droech",title:"Hij droech onse smerten",author:"Jacobus Revius",year:"1630",collection:"Over-Ysselsche Sangen en Dichten",content:`T'en zijn de Joden niet, Heer Jesu, die u cruysten,

Noch die verradelijck u togen voort gericht,

Noch die versmadelijck u spogen int gesicht,

Noch die u knevelden, en stieten u vol puysten,
`,translations:{droech:"bore",smerten:"pains",cruysten:"crucified",verradelijck:"treacherously",togen:"dragged",voort:"before",gericht:"court",versmadelijck:"contemptuously",spogen:"spat",gesicht:"face",knevelden:"bound",stieten:"pushed",puysten:"bruises"},language:"dutch"},{id:"stalpart-kersnacht",title:"Kersnacht",author:"Johannes Stalpart van der Wiele",year:"1622",collection:"Gulde-Jaers Feestdagen",content:`O Kersnacht, schooner dan de dagen,

Hoe kan Herodes 't licht verdragen,

Dat in uw duisternisse blinct,

En word geviert en aangebeden?
`,translations:{Kersnacht:"Christmas night",schooner:"more beautiful",dagen:"days",licht:"light",verdragen:"endure",duisternisse:"darkness",blinct:"shines",geviert:"celebrated",aangebeden:"worshipped"},language:"dutch"},{id:"six-schaduwen",title:"Schaduw-verdrijf",author:"Jan Six van Chandelier",year:"1657",collection:"Poësy",content:`De schaduwen verdwijnen,

Als 't zonnelicht komt schijnen.
`,translations:{schaduwen:"shadows",verdwijnen:"disappear",zonnelicht:"sunlight",komt:"comes",schijnen:"shine"},language:"dutch"},{id:"westerbaen-zomer",title:"Zomer",author:"Jacob Westerbaen",year:"1644",collection:"Gedichten",content:`De Somer is gekomen,

Het veld staet vol geblomt.
`,translations:{Somer:"Summer",gekomen:"arrived",veld:"field",staet:"stands",geblomt:"flowers"},language:"dutch"},{id:"huygens-voorhout",title:"Voorhout",author:"Constantijn Huygens",year:"1621",collection:"Batava Tempe",content:`Hier stond ick eens te kijcken

Naer 't rijsen van de Maen.
`,translations:{stond:"stood",eens:"once",kijcken:"look",rijsen:"rising",Maen:"Moon"},language:"dutch"},{id:"anslo-pest",title:"De Pest tot Amsterdam",author:"Reyer Anslo",year:"1662",collection:"Poezy",content:`De bleecke Doot, die nu geen pijl gebruyckt noch bogen,

Maer met een' enckel sicht de menschen neer kan slaen.
`,translations:{bleecke:"pale",Doot:"Death",pijl:"arrow",gebruyckt:"uses",noch:"nor",bogen:"bows",enckel:"single",sicht:"sight",menschen:"people",neer:"down",slaen:"strike"},language:"dutch"},{id:"wellekens-herder",title:"Herderskout",author:"Jan Baptista Wellekens",year:"1715",collection:"Verscheiden Gedichten",content:`De morgenstont verschynt met rozen op de wangen,

De dauw besproeit het gras.
`,translations:{morgenstont:"morning",verschynt:"appears",rozen:"roses",wangen:"cheeks",dauw:"dew",besproeit:"sprinkles",gras:"grass"},language:"dutch"},{id:"moonen-lente",title:"Lentezang",author:"Arnold Moonen",year:"1700",collection:"Poëzy",content:`De lente komt, de winter wijkt,

Het aerdrijk groent en bloeit en prijkt.
`,translations:{lente:"spring",komt:"comes",winter:"winter",wijkt:"retreats",aerdrijk:"earth",groent:"grows green",bloeit:"blooms",prijkt:"shines"},language:"dutch"},{id:"poot-mei",title:"Mei",author:"Hubert Korneliszoon Poot",year:"1722",collection:"Gedichten",content:`Hoe lieflijk rolt de Mei

Door beemden en valleien!
`,translations:{lieflijk:"lovely",rolt:"rolls",beemden:"meadows",valleien:"valleys"},language:"dutch"},{id:"antonides-ijstroom",title:"De Ystroom",author:"Joannes Antonides van der Goes",year:"1671",collection:"Gedichten",content:`De waterstroom, die 't Y wordt van ons volk geheten,

Rolt met zijn golven voort.
`,translations:{waterstroom:"waterstream",wordt:"becomes",volk:"people",geheten:"called",golven:"waves",voort:"forth"},language:"dutch"},{id:"vollenhove-morgenstond",title:"Morgenstond",author:"Johannes Vollenhove",year:"1686",collection:"Kruistriomf",content:`De morgenstond, met goud gekroond,

Heeft al het land met licht verschoond.
`,translations:{morgenstond:"morning",goud:"gold",gekroond:"crowned",land:"land",licht:"light",verschoond:"beautified"},language:"dutch"},{id:"der-panther",title:"Der Panther",author:"Rainer Maria Rilke",content:`Sein Blick ist vom Vorübergehn der Stäbe

so müd geworden, dass er nichts mehr hält
`,translations:{Sein:"His",Blick:"gaze",ist:"is",vom:"from",Vorübergehn:"passing",der:"the",Stäbe:"bars",so:"so",müd:"tired",geworden:"become",dass:"that",er:"he",nichts:"nothing",mehr:"more",hält:"holds"},language:"german"},{id:"wandrers-nachtlied",title:"Wandrers Nachtlied",author:"Johann Wolfgang von Goethe",content:`Über allen Gipfeln

ist Ruh
`,translations:{Über:"Above",allen:"all",Gipfeln:"peaks",ist:"is",Ruh:"peace"},language:"german"},{id:"graue-nacht",title:"Graue Nacht",author:"Heinrich Heine",year:"1844",collection:"Neue Gedichte",content:`Graue Nacht liegt auf dem Meere,
Und die kleinen Sterne glimmen.
Manchmal tönen in dem Wasser
Lange hingezogne Stimmen.
`,translations:{Graue:"Gray",Nacht:"night",liegt:"lies",auf:"upon",dem:"the",Meere:"sea",kleinen:"small",Sterne:"stars",glimmen:"glimmer",Manchmal:"Sometimes",tönen:"sound",in:"in",Wasser:"water",Lange:"Long",hingezogne:"drawn-out",Stimmen:"voices"},language:"german"},{id:"iliad-1",title:"Ἰλιάδος Α",author:"Ὅμηρος",content:`μῆνιν ἄειδε θεὰ Πηληϊάδεω Ἀχιλῆος

οὐλομένην
`,translations:{μῆνιν:"wrath",ἄειδε:"sing",θεὰ:"goddess",Πηληϊάδεω:"of Peleus' son",Ἀχιλῆος:"of Achilles",οὐλομένην:"destructive"},language:"greek"},{id:"odyssey-1",title:"Ὀδύσσεια α",author:"Ὅμηρος",content:`ἄνδρα μοι ἔννεπε, μοῦσα, πολύτροπον
`,translations:{ἄνδρα:"man",μοι:"to me",ἔννεπε:"tell",μοῦσα:"muse",πολύτροπον:"of many turns"},language:"greek"},{id:"pushkin-winter-evening",title:"Зимний вечер",author:"Александр Пушкин",year:"1825",content:`Буря мглою небо кроет,

Вихри снежные крутя;

То, как зверь, она завоет,

То заплачет, как дитя.
`,translations:{Буря:"storm",мглою:"with darkness",небо:"sky",кроет:"covers",Вихри:"whirlwinds",снежные:"snowy",крутя:"spinning",как:"like",зверь:"beast",она:"it",завоет:"will howl",заплачет:"will cry",дитя:"child"},language:"russian"},{id:"dante-inferno",title:"Inferno (Canto I)",author:"Dante Alighieri",year:"1320",collection:"La Divina Commedia",content:`Nel mezzo del cammin di nostra vita

mi ritrovai per una selva oscura,

ché la diritta via era smarrita.

Ahi quanto a dir qual era è cosa dura
`,translations:{Nel:"in",mezzo:"middle",cammin:"journey",nostra:"our",vita:"life",ritrovai:"found myself",selva:"forest",oscura:"dark",diritta:"straight",via:"way",era:"was",smarrita:"lost",quanto:"how much",dir:"to tell",qual:"what",cosa:"thing",dura:"hard"},language:"italian"}],$u=[...Wy,...Hy].sort((e,t)=>e.language.localeCompare(t.language)),Vy=vh("https://dmsphhfirmbdruvbsham.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRtc3BoaGZpcm1iZHJ1dmJzaGFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2Mzg5NzMsImV4cCI6MjA1MzIxNDk3M30.JSuQ3UvaiOE2ti0Q-Xbi_yfJKDWHORuvY-anK42OQZA");function Gy(e){const[t,n]=D.useState([]),[r,i]=D.useState(!0),[s,o]=D.useState(null);return D.useEffect(()=>{async function a(){try{i(!0);const l=$u.filter(y=>y.language===e),{data:u,error:c}=await Vy.from("poems").select(`
            *,
            translations (
              word,
              translation
            )
          `).eq("language",e);if(c)throw c;const d=(u||[]).map(y=>({id:y.id,title:y.title,author:y.author,content:y.content,year:y.year||void 0,collection:y.collection||void 0,language:y.language,translations:y.translations.reduce((_,C)=>({..._,[C.word]:C.translation}),{})})),h=[...l];d.forEach(y=>{h.some(_=>_.id===y.id)||h.push(y)});const w=h.sort((y,_)=>{const C=y.author.localeCompare(_.author);return C!==0?C:y.title.localeCompare(_.title)});n(w)}catch(l){console.error("Error fetching poems:",l),n($u.filter(u=>u.language===e)),o(l instanceof Error?l.message:"Failed to fetch poems")}finally{i(!1)}}a()},[e]),{poems:t,loading:r,error:s}}function Jy(){const[e,t]=D.useState(()=>{const P=localStorage.getItem("savedWords");return P?JSON.parse(P):[]}),[n,r]=D.useState(()=>{const P=localStorage.getItem("readPoems");return P?JSON.parse(P):[]}),[i,s]=D.useState("dutch"),[o,a]=D.useState(0),[l,u]=D.useState(!1),[c,d]=D.useState(!1),{poems:h,loading:w,error:y}=Gy(i),_=h[o],C=_&&n.some(P=>P.poemId===_.id),p=n.filter(P=>h.find(O=>O.id===P.poemId)).length;D.useEffect(()=>{localStorage.setItem("savedWords",JSON.stringify(e))},[e]),D.useEffect(()=>{localStorage.setItem("readPoems",JSON.stringify(n))},[n]),D.useEffect(()=>{a(0)},[i]);const f=(P,O)=>{e.some(F=>F.word===P&&F.language===i)||t([...e,{word:P,definition:O,addedAt:new Date().toISOString(),language:i}])},g=P=>{t(e.filter(O=>!(O.word===P&&O.language===i)))},k=P=>{s(P)},j=()=>{_&&!C&&r([...n,{poemId:_.id,readAt:new Date().toISOString()}])},b=()=>{d(!1)};return E.jsxs("div",{className:"min-h-screen bg-gray-100",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:E.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(ng,{className:"text-indigo-600"}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Poetry Learning"})]}),E.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[E.jsxs("div",{className:"text-sm text-gray-600 w-full sm:w-auto",children:["Read ",p," of ",h.length," poems"]}),E.jsx(dg,{currentLanguage:i,onLanguageChange:k}),E.jsxs("button",{onClick:()=>u(!l),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[E.jsx(tg,{size:20}),E.jsx("span",{children:l?"Show Poems":"Word List"})]}),E.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[E.jsx(Jo,{size:20}),E.jsx("span",{children:"Scan Poem"})]})]})]})})}),E.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:c?E.jsx(By,{onPoemScanned:b,currentLanguage:i}):l?E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Your Saved Words"}),E.jsx(cg,{words:e,currentLanguage:i,onRemoveWord:g})]}):_?E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex space-x-4",children:[E.jsx("button",{onClick:()=>a(P=>(P-1+h.length)%h.length),className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:h.length<=1,children:"Previous Poem"}),E.jsx("button",{onClick:()=>a(P=>(P+1)%h.length),className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:h.length<=1,children:"Next Poem"})]}),E.jsxs("button",{onClick:j,className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${C?"bg-green-100 text-green-800 cursor-default":"bg-green-600 text-white hover:bg-green-700"}`,disabled:C,children:[E.jsx(rg,{size:20}),E.jsx("span",{children:C?"Read":"Mark as Read"})]})]}),E.jsx(ug,{poem:_,onWordClick:f}),_.year&&E.jsxs("div",{className:"text-sm text-gray-600",children:["Published in ",_.year,_.collection&&` as part of "${_.collection}"`]}),E.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:E.jsx("p",{className:"text-sm text-blue-800",children:"Click on words to see their definitions and add them to your word list."})})]}):E.jsx("div",{className:"text-center py-12 text-gray-600",children:"No poems available for this language."})})]})}Jd(document.getElementById("root")).render(E.jsx(D.StrictMode,{children:E.jsx(Jy,{})}));export{Eh as g};
